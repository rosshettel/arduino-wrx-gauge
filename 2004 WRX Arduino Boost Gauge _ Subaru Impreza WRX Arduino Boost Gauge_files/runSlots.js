var rawUtils={dive:function(a,b){var c=(""+b).replace(/^\./,"").split("."),d=c.length>0?c.shift():null;if(d&&a&&"undefined"!=typeof a[d])return 0===c.length?a[d]:rawUtils.dive(a[d],c.join("."))},get_keys:function(a){if("object"==typeof a)return Object.keys(a)},get_scroll_position:function(){return{top:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,left:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft}},get_values:function(a){if("object"==typeof a)return Object.keys(a).map(function(b){return a[b]})},is_array:function(a,b){return!(!this.is_obj(a)||"[object Array]"!==Object.prototype.toString.call(a))&&("boolean"==typeof b?!b||a.length>0:!(!isNaN(b)&&b>-1)||a.length>=parseInt(b,10))},is_obj:function(a,b){if("object"==typeof a&&null!==a){if(b){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1}return!0}return!1},merge:function(){var a,b,c={};for(a=0;a<arguments.length;a++)if(rawUtils.is_obj(arguments[a],!0))for(b in arguments[a])arguments[a].hasOwnProperty(b)&&(c[b]=arguments[a][b]);return c}};!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(){for(var a=0;a<q.que.length;a++)if(j(q.que[a].called)===B)try{q.que[a].call(),q.que[a].called=!0}catch(b){s.logError("Error processing command :","prebid.js",b)}}function f(a){var b=q._bidsRequested.map(function(a){return a.bids.map(function(a){return a.placementCode})}).reduce(l.flatten).filter(l.uniques);return!!s.contains(b,a)||void s.logError('The "'+a+'" placement is not defined.')}function g(){q._bidsRequested=[],q._bidsReceived=q._bidsReceived.filter(function(a){return!q._adUnitCodes.includes(a.adUnitCode)})}function h(a,b,c){a.defaultView&&a.defaultView.frameElement&&(a.defaultView.frameElement.width=b,a.defaultView.frameElement.height=c)}var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=c(1),l=c(2),m=c(4);c(22);var n=c(11),o=c(14),p=c(51),q=k.getGlobal(),r=c(3),s=c(2),t=c(13),u=c(5),v=c(12),w=c(16),x=c(8),y=c(52),z=c(53),A="function",B="undefined",C="object",D=r.EVENTS.BID_WON,E=r.EVENTS.SET_TARGETING,F=!1,G=[],H={bidWon:f};q._bidsRequested=[],q._bidsReceived=[],q._adUnitCodes=[],q._winningBids=[],q._adsReceived=[],q._sendAllBids=!1,q.bidderSettings=q.bidderSettings||{},q.bidderTimeout=q.bidderTimeout||3e3,q.cbTimeout=q.cbTimeout||200,q.timeoutBuffer=200,q.logging=q.logging||!1,q.publisherDomain=q.publisherDomain||window.location.origin,q.libLoaded=!0,q.version="v0.21.0-pre",s.logInfo("Prebid.js v0.21.0-pre loaded"),q.adUnits=q.adUnits||[],q.que.push=function(a){if(("undefined"==typeof a?"undefined":j(a))===A)try{a.call()}catch(b){s.logError("Error processing command :"+b.message)}else s.logError("Commands written into pbjs.que.push must wrapped in a function")},q.getAdserverTargetingForAdUnitCodeStr=function(a){if(s.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),a){var b=q.getAdserverTargetingForAdUnitCode(a);return s.transformAdServerTargetingObj(b)}s.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},q.getAdserverTargetingForAdUnitCode=function(a){return q.getAdserverTargeting(a)[a]},q.getAdserverTargeting=function(a){return s.logInfo("Invoking pbjs.getAdserverTargeting",arguments),z.getAllTargeting(a).map(function(a){return d({},Object.keys(a)[0],a[Object.keys(a)[0]].map(function(a){return d({},Object.keys(a)[0],a[Object.keys(a)[0]].join(", "))}).reduce(function(a,b){return i(b,a)},{}))}).reduce(function(a,b){var c=Object.keys(b)[0];return a[c]=i({},a[c],b[c]),a},{})},q.getBidResponses=function(){s.logInfo("Invoking pbjs.getBidResponses",arguments);var a=q._bidsReceived.filter(l.adUnitsFilter.bind(this,q._adUnitCodes)),b=a&&a.length&&a[a.length-1].requestId;return a.map(function(a){return a.adUnitCode}).filter(l.uniques).map(function(c){return a.filter(function(a){return a.requestId===b&&a.adUnitCode===c})}).filter(function(a){return a&&a[0]&&a[0].adUnitCode}).map(function(a){return d({},a[0].adUnitCode,{bids:a})}).reduce(function(a,b){return i(a,b)},{})},q.getBidResponsesForAdUnitCode=function(a){var b=q._bidsReceived.filter(function(b){return b.adUnitCode===a});return{bids:b}},q.setTargetingForGPTAsync=function(){return s.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),l.isGptPubadsDefined()?(z.resetPresetTargeting(),z.setTargeting(z.getAllTargeting()),void x.emit(E)):void s.logError("window.googletag is not defined on the page")},q.setTargetingForAst=function(){return s.logInfo("Invoking pbjs.setTargetingForAn",arguments),z.isApntagDefined()?(z.setTargetingForAst(),void x.emit(E)):void s.logError("window.apntag is not defined on the page")},q.allBidsAvailable=function(){return s.logInfo("Invoking pbjs.allBidsAvailable",arguments),t.bidsBackAll()},q.renderAd=function(a,b){if(s.logInfo("Invoking pbjs.renderAd",arguments),s.logMessage("Calling renderAd with adId :"+b),a&&b)try{var c=q._bidsReceived.find(function(a){return a.adId===b});if(c){q._winningBids.push(c),x.emit(D,c);var d=c.height,e=c.width,f=c.adUrl,g=c.ad;a===document||"video"===c.mediaType?s.logError("Error trying to write ad. Ad render call ad id "+b+" was prevented from writing to the main document."):g?(a.write(g),a.close(),h(a,e,d)):f?(a.write('<IFRAME SANDBOX="allow-forms allow-scripts allow-same-origin" SRC="'+f+'" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="'+e+'" HEIGHT="'+d+'"></IFRAME>'),a.close(),h(a,e,d)):s.logError("Error trying to write ad. No ad for bid response id: "+b)}else s.logError("Error trying to write ad. Cannot find ad by given id : "+b)}catch(i){s.logError("Error trying to write ad Id :"+b+" to the page:"+i.message)}else s.logError("Error trying to write ad Id :"+b+" to the page. Missing document or adId")},q.removeAdUnit=function(a){if(s.logInfo("Invoking pbjs.removeAdUnit",arguments),a)for(var b=0;b<q.adUnits.length;b++)q.adUnits[b].code===a&&q.adUnits.splice(b,1)},q.clearAuction=function(){F=!1,s.logMessage("Prebid auction cleared"),G.length&&G.shift()()},q.requestBids=function(a){var b=a.bidsBackHandler,c=a.timeout,d=a.adUnits,e=a.adUnitCodes;x.emit("requestBids");var f=q.cbTimeout=c||q.bidderTimeout;d=d||q.adUnits,s.logInfo("Invoking pbjs.requestBids",arguments),e&&e.length?d=d.filter(function(a){return e.includes(a.code)}):e=d&&d.map(function(a){return a.code});var h=d.filter(m.videoAdUnit).filter(m.hasNonVideoBidder);if(h.forEach(function(a){s.logError("adUnit "+a.code+" has 'mediaType' set to 'video' but contains a bidder that doesn't support video. No Prebid demand requests will be triggered for this adUnit.");for(var b=0;b<d.length;b++)d[b].code===a.code&&d.splice(b,1)}),F)return void G.push(function(){q.requestBids({bidsBackHandler:b,timeout:f,adUnits:d,adUnitCodes:e})});if(F=!0,q._adUnitCodes=e,t.externalCallbackReset(),g(),!d||0===d.length)return s.logMessage("No adUnits configured. No bids requested."),("undefined"==typeof b?"undefined":j(b))===A&&t.addOneTimeCallback(b,!1),void t.executeCallback();var i=!0,k=t.executeCallback.bind(t,i),l=setTimeout(k,f);("undefined"==typeof b?"undefined":j(b))===A&&t.addOneTimeCallback(b,l),u.callBids({adUnits:d,adUnitCodes:e,cbTimeout:f}),0===q._bidsRequested.length&&t.executeCallback()},q.addAdUnits=function(a){s.logInfo("Invoking pbjs.addAdUnits",arguments),s.isArray(a)?q.adUnits.push.apply(q.adUnits,a):("undefined"==typeof a?"undefined":j(a))===C&&q.adUnits.push(a)},q.onEvent=function(a,b,c){return s.logInfo("Invoking pbjs.onEvent",arguments),s.isFn(b)?c&&!H[a].call(null,c)?void s.logError('The id provided is not valid for event "'+a+'" and no handler was set.'):void x.on(a,b,c):void s.logError('The event handler provided is not a function and was not set on event "'+a+'".')},q.offEvent=function(a,b,c){s.logInfo("Invoking pbjs.offEvent",arguments),(!c||H[a].call(null,c))&&x.off(a,b,c)},q.addCallback=function(a,b){s.logInfo("Invoking pbjs.addCallback",arguments);var c=null;return a&&b&&("undefined"==typeof b?"undefined":j(b))===A?(c=s.getUniqueIdentifierStr,t.addCallback(c,b,a),c):(s.logError("error registering callback. Check method signature"),c)},q.removeCallback=function(){return null},q.registerBidAdapter=function(a,b){s.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{u.registerBidAdapter(a(),b)}catch(c){s.logError("Error registering bidder adapter : "+c.message)}},q.registerAnalyticsAdapter=function(a){s.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{u.registerAnalyticsAdapter(a)}catch(b){s.logError("Error registering analytics adapter : "+b.message)}},q.bidsAvailableForAdapter=function(a){s.logInfo("Invoking pbjs.bidsAvailableForAdapter",arguments),q._bidsRequested.find(function(b){return b.bidderCode===a}).bids.map(function(b){return i(b,v.createBid(1),{bidderCode:a,adUnitCode:b.placementCode})}).map(function(a){return q._bidsReceived.push(a)})},q.createBid=function(a){return s.logInfo("Invoking pbjs.createBid",arguments),v.createBid(a)},q.addBidResponse=function(a,b){s.logInfo("Invoking pbjs.addBidResponse",arguments),t.addBidResponse(a,b)},q.loadScript=function(a,b,c){s.logInfo("Invoking pbjs.loadScript",arguments),w.loadScript(a,b,c)},q.enableAnalytics=function(a){a&&!s.isEmpty(a)?(s.logInfo("Invoking pbjs.enableAnalytics for: ",a),u.enableAnalytics(a)):s.logError("pbjs.enableAnalytics should be called with option {}")},q.aliasBidder=function(a,b){s.logInfo("Invoking pbjs.aliasBidder",arguments),a&&b?u.aliasBidAdapter(a,b):s.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},q.setPriceGranularity=function(a){if(s.logInfo("Invoking pbjs.setPriceGranularity",arguments),!a)return void s.logError("Prebid Error: no value passed to `setPriceGranularity()`");if("string"==typeof a)t.setPriceGranularity(a);else if("object"===("undefined"==typeof a?"undefined":j(a))){if(!o.isValidePriceConfig(a))return void s.logError("Invalid custom price value passed to `setPriceGranularity()`");t.setCustomPriceBucket(a),t.setPriceGranularity(r.GRANULARITY_OPTIONS.CUSTOM),s.logMessage("Using custom price granularity")}},q.enableSendAllBids=function(){q._sendAllBids=!0},q.getAllWinningBids=function(){return q._winningBids},q.buildMasterVideoTagFromAdserverTag=function(a,b){s.logInfo("Invoking pbjs.buildMasterVideoTagFromAdserverTag",arguments);var c=n.parse(a);if(0===q._bidsReceived.length)return a;var d="";if("dfp"!==b.adserver.toLowerCase())return void s.logError("Only DFP adserver is supported");var e=y.dfpAdserver(b,c);return e.verifyAdserverTag()||s.logError("Invalid adserverTag, required google params are missing in query string"),e.appendQueryParams(),d=n.format(e.urlComponents)},q.setBidderSequence=function(a){a===r.ORDER.RANDOM&&u.setBidderSequence(r.ORDER.RANDOM)},q.getHighestCpmBids=function(a){return z.getWinningBids(a)},q.que.push(function(){return p.listenMessagesFromCreative()}),e()},function(a,b){"use strict";function c(){return window.pbjs}Object.defineProperty(b,"__esModule",{value:!0}),b.getGlobal=c,window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]},function(a,b,c){"use strict";function d(){return C()+Math.random().toString(16).substr(2)}function e(){return window.console&&window.console.log}function f(a,b,c){return c.indexOf(a)===b}function g(a,b){return a.concat(b)}function h(a){return pbjs._bidsRequested.map(function(b){return b.bids.find(function(b){return b.bidId===a})}).find(function(a){return a})}function i(a){return Object.keys(a)}function j(a,b){return a[b]}function k(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return a.map(function(a){return a.bids.map(function(a){return a.bidder}).reduce(g,[])}).reduce(g).filter(f)}function l(){return!!(window.googletag&&b.isFn(window.googletag.pubads)&&b.isFn(window.googletag.pubads().getSlots))||void 0}function m(a,b){return a.cpm===b.cpm?a.timeToRespond>b.timeToRespond?b:a:a.cpm<b.cpm?b:a}function n(a){for(var b=a.length;b>0;){var c=Math.floor(Math.random()*b);b--;var d=a[b];a[b]=a[c],a[c]=d}return a}function o(a,b){return a.includes(b&&b.placementCode||b&&b.adUnitCode)}Object.defineProperty(b,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.uniques=f,b.flatten=g,b.getBidRequest=h,b.getKeys=i,b.getValue=j,b.getBidderCodes=k,b.isGptPubadsDefined=l,b.getHighestCpm=m,b.shuffle=n,b.adUnitsFilter=o;var q=c(3),r="object",s="string",t="number",u=!1,v="Array",w="String",x="Function",y="Number",z=Object.prototype.toString,A=null;try{A=console.info.bind(window.console)}catch(B){}b.replaceTokenInString=function(a,b,c){return this._each(b,function(b,d){b=void 0===b?"":b;var e=c+d.toUpperCase()+c,f=new RegExp(e,"g");a=a.replace(f,b)}),a};var C=function(){var a=0;return function(){return a++,a}}();b.getUniqueIdentifierStr=d,b.generateUUID=function H(a){return a?(a^16*Math.random()>>a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,H)},b.getBidIdParameter=function(a,b){return b&&b[a]?b[a]:""},b.tryAppendQueryString=function(a,b,c){return c?a+=b+"="+encodeURIComponent(c)+"&":a},b.parseQueryStringParameters=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+"="+encodeURIComponent(a[c])+"&");return b},b.transformAdServerTargetingObj=function(a){return a&&Object.getOwnPropertyNames(a).length>0?i(a).map(function(b){return b+"="+encodeURIComponent(j(a,b))}).join("&"):""},b.extend=function(a,b){return a=a||{},this._each(b,function(c,d){a[d]=p(b[d])===r?this.extend(a[d],b[d]):b[d]}),a},b.parseSizesInput=function(a){var b=[];if(("undefined"==typeof a?"undefined":p(a))===s){var c=a.split(","),d=/^(\d)+x(\d)+$/i;if(c)for(var e in c)G(c,e)&&c[e].match(d)&&b.push(c[e])}else if(("undefined"==typeof a?"undefined":p(a))===r){var f=a.length;if(f>0)if(2===f&&p(a[0])===t&&p(a[1])===t)b.push(this.parseGPTSingleSizeArray(a));else for(var g=0;f>g;g++)b.push(this.parseGPTSingleSizeArray(a[g]))}return b},b.parseGPTSingleSizeArray=function(a){return!this.isArray(a)||2!==a.length||isNaN(a[0])||isNaN(a[1])?void 0:a[0]+"x"+a[1]},b.getTopWindowLocation=function(){var a=void 0;try{a=window.top.location}catch(b){a=window.location}return a},b.getTopWindowUrl=function(){var a=void 0;try{a=this.getTopWindowLocation().href}catch(b){a=""}return a},b.logWarn=function(a){E()&&console.warn&&console.warn("WARNING: "+a)},b.logInfo=function(a,b){E()&&e()&&A&&(b&&0!==b.length||(b=""),A("INFO: "+a+(""===b?"":" : params : "),b))},b.logMessage=function(a){E()&&e()&&console.log("MESSAGE: "+a)},b.hasConsoleLogger=e;var D=function(a){return a?window.console.error?"error":"log":""}(e()),E=function(){return pbjs.logging===!1&&u===!1&&(pbjs.logging="TRUE"===F(q.DEBUG_MODE).toUpperCase(),u=!0),!!pbjs.logging};b.debugTurnedOn=E,b.logError=function(a,b,c){var d=b||"ERROR";E()&&e()&&console[D](console,d+": "+a,c||"")},b.createInvisibleIframe=function(){var a=document.createElement("iframe");return a.id=d(),a.height=0,a.width=0,a.border="0px",a.hspace="0",a.vspace="0",a.marginWidth="0",a.marginHeight="0",a.style.border="0",a.scrolling="no",a.frameBorder="0",a.src="about:blank",a.style.display="none",a};var F=function(a){var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.search);return null===d?"":decodeURIComponent(d[1].replace(/\+/g," "))};b.hasValidBidRequest=function(a,b,c){function d(a,c){c===b[f]&&(e=!0)}for(var e=!1,f=0;f<b.length;f++)if(e=!1,this._each(a,d),!e)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+b,c),!1;return!0},b.addEventHandler=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!0):a.attachEvent&&a.attachEvent("on"+b,c)},b.isA=function(a,b){return z.call(a)==="[object "+b+"]"},b.isFn=function(a){return this.isA(a,x)},b.isStr=function(a){return this.isA(a,w)},b.isArray=function(a){return this.isA(a,v)},b.isNumber=function(a){return this.isA(a,y)},b.isEmpty=function(a){if(!a)return!0;if(this.isArray(a)||this.isStr(a))return!(a.length>0);for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0},b.isEmptyStr=function(a){return this.isStr(a)&&(!a||0===a.length)},b._each=function(a,b){if(!this.isEmpty(a)){if(this.isFn(a.forEach))return a.forEach(b,this);var c=0,d=a.length;if(d>0)for(;d>c;c++)b(a[c],c,a);else for(c in a)hasOwnProperty.call(a,c)&&b.call(this,a[c],c)}},b.contains=function(a,b){if(this.isEmpty(a))return!1;if(this.isFn(a.indexOf))return-1!==a.indexOf(b);for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},b.indexOf=function(){return Array.prototype.indexOf?Array.prototype.indexOf:void 0}(),b._map=function(a,b){if(this.isEmpty(a))return[];if(this.isFn(a.map))return a.map(b);var c=[];return this._each(a,function(d,e){c.push(b(d,e,a))}),c};var G=function(a,b){return a.hasOwnProperty?a.hasOwnProperty(b):"undefined"!=typeof a[b]&&a.constructor.prototype[b]!==a[b]};b.createTrackPixelHtml=function(a){if(!a)return"";var b=encodeURI(a),c='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return c+='<img src="'+b+'"></div>'},b.createTrackPixelIframeHtml=function(a){return a?'<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no" src="'+encodeURI(a)+'"></iframe>':""},b.getIframeDocument=function(a){if(a){var b=void 0;try{b=a.contentWindow?a.contentWindow.document:a.contentDocument.document?a.contentDocument.document:a.contentDocument}catch(c){this.logError("Cannot get iframe document",c)}return b}},b.getValueString=function(a,b,c){return void 0===b||null===b?c:this.isStr(b)?b:this.isNumber(b)?b.toString():void this.logWarn("Unsuported type for param: "+a+" required type: String")}},function(a){a.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_0.21.0-pre",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},ORDER:{RANDOM:"random"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size","hb_deal"]}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.hasNonVideoBidder=b.videoAdUnit=void 0;var d=c(5),e=(b.videoAdUnit=function(a){return"video"===a.mediaType},function(a){return!d.videoAdapters.includes(a.bidder)});b.hasNonVideoBidder=function(a){return a.bids.filter(e).length}},function(a,b,c){"use strict";function d(a){var b=a.bidderCode,c=a.requestId,d=a.bidderRequestId,e=a.adUnits;return e.map(function(a){return a.bids.filter(function(a){return a.bidder===b}).map(function(b){var e=a.sizes;if(a.sizeMapping){var g=h.mapSizes(a);if(""===g)return"";e=g}return f({},b,{placementCode:a.code,mediaType:a.mediaType,sizes:e,bidId:j.getUniqueIdentifierStr(),bidderRequestId:d,requestId:c})})}).reduce(g.flatten,[]).filter(function(a){return""!==a})}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g=c(2),h=c(6),i=c(7),j=c(2),k=c(3),l=c(8),m={};b.bidderRegistry=m;var n={},o=null;b.callBids=function(a){var b=a.adUnits,c=a.cbTimeout,e=j.generateUUID(),f=Date.now(),h={timestamp:f,requestId:e};l.emit(k.EVENTS.AUCTION_INIT,h);var i=g.getBidderCodes(b);o===k.ORDER.RANDOM&&(i=g.shuffle(i)),i.forEach(function(a){var g=m[a];if(g){var h=j.getUniqueIdentifierStr(),i={bidderCode:a,requestId:e,bidderRequestId:h,bids:d({bidderCode:a,requestId:e,bidderRequestId:h,adUnits:b}),start:(new Date).getTime(),auctionStart:f,timeout:c};i.bids&&0!==i.bids.length&&(j.logMessage("CALLING BIDDER ======= "+a),pbjs._bidsRequested.push(i),l.emit(k.EVENTS.BID_REQUESTED,i),g.callBids(i))}else j.logError("Adapter trying to be called which does not exist: "+a+" adaptermanager.callBids")})},b.registerBidAdapter=function(a,b){a&&b?e(a.callBids)===k.objectType_function?m[b]=a:j.logError("Bidder adaptor error for bidder code: "+b+"bidder must implement a callBids() function"):j.logError("bidAdaptor or bidderCode not specified")},b.aliasBidAdapter=function(a,b){var c=m[b];if(("undefined"==typeof c?"undefined":e(c))===k.objectType_undefined){var d=m[a];if(("undefined"==typeof d?"undefined":e(d))===k.objectType_undefined)j.logError('bidderCode "'+a+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter");else try{var f=null;d instanceof i.BaseAdapter?j.logError(a+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter"):(f=d.createNew(),f.setBidderCode(b),this.registerBidAdapter(f,b))}catch(g){j.logError(a+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else j.logMessage('alias name "'+b+'" has been already specified.')},b.registerAnalyticsAdapter=function(a){var b=a.adapter,c=a.code;b&&c?e(b.enableAnalytics)===k.objectType_function?(b.code=c,n[c]=b):j.logError('Prebid Error: Analytics adaptor error for analytics "'+c+'"\n        analytics adapter must implement an enableAnalytics() function'):j.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},b.enableAnalytics=function(a){j.isArray(a)||(a=[a]),j._each(a,function(a){var b=n[a.provider];b?b.enableAnalytics(a):j.logError("Prebid Error: no analytics adapter found in registry for\n        "+a.provider+".")})},b.setBidderSequence=function(a){o=a};var p=c(9);b.registerBidAdapter(new p,"aol");var q=c(15);b.registerBidAdapter(new q,"indexExchange");var r=c(17);b.registerBidAdapter(new r,"openx");var s=c(18);b.registerBidAdapter(new s,"sonobi");var t=c(19);b.registerBidAdapter(new t,"sovrn");var u=c(20);b.registerBidAdapter(new u,"criteo");var v=c(21);b.registerBidAdapter(new v,"districtmDMX"),b.videoAdapters=[]},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){if(!f(a.sizeMapping))return a.sizes;var b=g();if(!b){var c=a.sizeMapping.reduce(function(a,b){return a.minWidth<b.minWidth?b:a});return c.sizes?c.sizes:a.sizes}var d="",e=a.sizeMapping.find(function(a){return b>a.minWidth});return e&&e.sizes?(d=e.sizes,j.logMessage("AdUnit : "+a.code+" resized based on device width to : "+d)):j.logMessage("AdUnit : "+a.code+" not mapped to any sizes for device width. This request will be suppressed."),d}function f(a){return!!(j.isArray(a)&&a.length>0)||(j.logInfo("No size mapping defined"),!1)}function g(a){var b=a||k||window,c=b.document;return b.innerWidth?b.innerWidth:c.body.clientWidth?c.body.clientWidth:c.documentElement.clientWidth?c.documentElement.clientWidth:0}function h(a){k=a}Object.defineProperty(b,"__esModule",{value:!0}),b.setWindow=b.getScreenWidth=b.mapSizes=void 0;var i=c(2),j=d(i),k=void 0;b.mapSizes=e,b.getScreenWidth=g,b.setWindow=h},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.BaseAdapter=function(){function a(b){c(this,a),this.code=b}return d(a,[{key:"getCode",value:function(){return this.code}},{key:"setCode",value:function(a){this.code=a}},{key:"callBids",value:function(){throw"adapter implementation must override callBids method"}}]),a}()},function(a,b,c){"use strict";var d=c(2),e=c(3),f=Array.prototype.slice,g=Array.prototype.push,h=d._map(e.EVENTS,function(a){return a}),i=e.EVENT_ID_PATHS,j=[];a.exports=function(){function a(a,b){d.logMessage("Emitting event for: "+a);var e=b[0]||{},f=i[a],h=e[f],k=c[a]||{que:[]},l=d._map(k,function(a,b){return b}),m=[];j.push({eventType:a,args:e,id:h}),h&&d.contains(l,h)&&g.apply(m,k[h].que),g.apply(m,k.que),d._each(m,function(a){if(a)try{a.apply(null,b)}catch(c){d.logError("Error executing handler:","events.js",c)}})}function b(a){return d.contains(h,a)}var c={},e={};return e.on=function(a,e,f){if(b(a)){var g=c[a]||{que:[]};f?(g[f]=g[f]||{que:[]},g[f].que.push(e)):g.que.push(e),c[a]=g}else d.logError("Wrong event name : "+a+" Valid event names :"+h)},e.emit=function(b){var c=f.call(arguments,1);a(b,c)},e.off=function(a,b,e){var f=c[a];d.isEmpty(f)||d.isEmpty(f.que)&&d.isEmpty(f[e])||e&&(d.isEmpty(f[e])||d.isEmpty(f[e].que))||(e?d._each(f[e].que,function(a){var c=f[e].que;a===b&&c.splice(d.indexOf.call(c,a),1)}):d._each(f.que,function(a){var c=f.que;a===b&&c.splice(d.indexOf.call(c,a),1)}),c[a]=f)},e.get=function(){return c},e.getEvents=function(){var a=[];return d._each(j,function(b){var c=d.extend({},b);a.push(c)}),a},e}()},function(a,b,c){"use strict";function d(a,b){return Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var e=d(["","://","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","",";misc=",""],["","://","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","",";misc=",""]),f=c(2),g=c(10).ajax,h=c(12),i=c(13),j=function(){function a(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return function(){for(var b=arguments.length,d=Array(b),e=0;b>e;e++)d[e]=arguments[e];var f=d[d.length-1]||{},g=[a[0]];return c.forEach(function(b,c){var e=Number.isInteger(b)?d[b]:f[b];g.push(e,a[c+1])}),g.join("")}}function b(a){var b=a.params,c=b.server,d=b.region||"us",e=void 0;return n.hasOwnProperty(d)||(f.logWarn("Unknown region '"+d+"' for AOL bidder."),d="us"),e=c?c:n[d],b.region=d,l({protocol:"https:"===document.location.protocol?"https":"http",host:e,network:b.network,placement:parseInt(b.placement),pageid:b.pageId||0,sizeid:b.sizeId||0,alias:b.alias||f.getUniqueIdentifierStr(),bidfloor:"undefined"!=typeof b.bidFloor?";bidfloor="+b.bidFloor.toString():"",misc:(new Date).getTime()})}function c(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=h.createBid(2,a);c.bidderCode=m,c.reason=b.nbr,c.raw=b,i.addBidResponse(a.placementCode,c)}function d(a,b){var d=void 0;try{d=b.seatbid[0].bid[0]}catch(e){return void c(a,b)}var g=void 0;if(d.ext&&d.ext.encp)g=d.ext.encp;else if(g=d.price,null===g||isNaN(g))return f.logError("Invalid price in bid response",m,a),void c(a,b);var j=d.adm;b.ext&&b.ext.pixels&&(j+=b.ext.pixels);var k=h.createBid(1,a);k.bidderCode=m,k.ad=j,k.cpm=g,k.width=d.w,k.height=d.h,k.creativeId=d.crid,k.pubapiId=b.id,k.currencyCode=b.cur,d.dealid&&(k.dealId=d.dealid),i.addBidResponse(a.placementCode,k)}function j(a){f._each(a.bids,function(a){var e=b(a);g(e,function(b){if(k&&pbjs.bidderSettings&&pbjs.bidderSettings.aol&&"function"==typeof pbjs.bidderSettings.aol.bidCpmAdjustment&&f.logWarn("bidCpmAdjustment is active for the AOL adapter. As of Prebid 0.14, AOL can bid in net – please contact your accounts team to enable."),k=!1,!b&&b.length<=0)return f.logError("Empty bid response",m,a),void c(a,b);try{b=JSON.parse(b)}catch(e){return f.logError("Invalid JSON in bid response",m,a),void c(a,b)}d(a,b)},null,{withCredentials:!0})})}var k=!0,l=a(e,"protocol","host","network","placement","pageid","sizeid","alias","bidfloor","misc"),m="aol",n={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"};return{callBids:j}};a.exports=j},function(a,b,c){"use strict";function d(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var i=void 0,j=!1,k=d.method||(c?"POST":"GET");if(window.XMLHttpRequest?(i=new window.XMLHttpRequest,void 0===i.responseType&&(j=!0)):j=!0,j?(i=new window.XDomainRequest,i.onload=function(){b(i.responseText,i)},i.onerror=function(){g.logMessage("xhr onerror")},i.ontimeout=function(){g.logMessage("xhr timeout")},i.onprogress=function(){g.logMessage("xhr onprogress")}):i.onreadystatechange=function(){i.readyState===h&&b&&b(i.responseText,i)},"GET"===k&&c){var l=f.parse(a);e(l.search,c),a=f.format(l)}i.open(k,a),j||(d.withCredentials&&(i.withCredentials=!0),d.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",d.contentType||"text/plain")),i.send("POST"===k&&c)}catch(m){g.logError("xhr construction",m)}}Object.defineProperty(b,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b.ajax=d;var f=c(11),g=c(2),h=4},function(a,b){"use strict";function c(a){return a?a.replace(/^\?/,"").split("&").reduce(function(a,b){var c=b.split("="),d=g(c,2),e=d[0],f=d[1];return/\[\]$/.test(e)?(e=e.replace("[]",""),a[e]=a[e]||[],a[e].push(f)):a[e]=f||"",a},{}):{}}function d(a){return Object.keys(a).map(function(b){return Array.isArray(a[b])?a[b].map(function(a){return b+"[]="+a}).join("&"):b+"="+a[b]}).join("&")}function e(a){var b=document.createElement("a");return b.href=decodeURIComponent(a),{protocol:(b.protocol||"").replace(/:$/,""),hostname:b.hostname,port:+b.port,pathname:b.pathname,search:c(b.search||""),hash:(b.hash||"").replace(/^#/,""),host:b.host}}function f(a){return(a.protocol||"http")+"://"+(a.host||a.hostname+(a.port?":"+a.port:""))+(a.pathname||"")+(a.search?"?"+d(a.search||""):"")+(a.hash?"#"+a.hash:"")}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();b.parseQS=c,b.formatQS=d,b.parse=e,b.format=f},function(a,b,c){"use strict";function d(a,b){function c(){switch(f){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}var d=b&&b.bidId||e.getUniqueIdentifierStr(),f=a||0;this.bidderCode="",this.width=0,this.height=0,this.statusMessage=c(),this.adId=d,this.getStatusCode=function(){return f},this.getSize=function(){return this.width+"x"+this.height}}var e=c(2);b.createBid=function(){return new(Function.prototype.bind.apply(d,[null].concat(Array.prototype.slice.call(arguments))));
}},function(a,b,c){"use strict";function d(){return(new Date).getTime()}function e(a){return a.bidderCode}function f(a){return a.bidder}function g(a){var b=this,c=pbjs._bidsRequested.map(function(c){return c.bids.filter(u.adUnitsFilter.bind(b,pbjs._adUnitCodes)).filter(function(b){return b.placementCode===a})}).reduce(u.flatten,[]).map(function(a){return"indexExchange"===a.bidder?a.sizes.length:1}).reduce(h,0),d=pbjs._bidsReceived.filter(function(b){return b.adUnitCode===a}).length;return c===d}function h(a,b){return a+b}function i(){var a=pbjs._bidsRequested.map(function(a){return a.bids}).reduce(u.flatten,[]).filter(u.adUnitsFilter.bind(this,pbjs._adUnitCodes)).map(function(a){return"indexExchange"===a.bidder?a.sizes.length:1}).reduce(function(a,b){return a+b},0),b=pbjs._bidsReceived.filter(u.adUnitsFilter.bind(this,pbjs._adUnitCodes)).length;return a===b}function j(a,b){return pbjs._bidsRequested.find(function(c){return c.bids.filter(function(c){return c.bidder===a&&c.placementCode===b}).length>0})||{start:null,requestId:null}}function k(a,b){var c={},d=pbjs.bidderSettings;if(b&&d){var e=q();l(c,e,b)}return a&&b&&d&&d[a]&&d[a][w.JSON_MAPPING.ADSERVER_TARGETING]?(l(c,d[a],b),b.alwaysUseBid=d[a].alwaysUseBid,b.sendStandardTargeting=d[a].sendStandardTargeting):E[a]&&(l(c,E[a],b),b.alwaysUseBid=E[a].alwaysUseBid,b.sendStandardTargeting=E[a].sendStandardTargeting),c}function l(a,b,c){var d=b[w.JSON_MAPPING.ADSERVER_TARGETING];return c.size=c.getSize(),y._each(d,function(d){var e=d.key,f=d.val;if(a[e]&&y.logWarn("The key: "+e+" is getting ovewritten"),y.isFn(f))try{f=f(c)}catch(g){y.logError("bidmanager","ERROR",g)}("undefined"==typeof b.suppressEmptyKeys||b.suppressEmptyKeys!==!0)&&"hb_deal"!==e||!y.isEmptyStr(f)&&null!==f&&void 0!==f?a[e]=f:y.logInfo("suppressing empty key '"+e+"' from adserver targeting")}),a}function m(a){var b=[a];n(B.byAdUnit,b)}function n(a,b){var c=this;y.isArray(a)&&a.forEach(function(a){var d=b||pbjs._adUnitCodes,e=[pbjs._bidsReceived.filter(u.adUnitsFilter.bind(c,d)).reduce(o,{})];a.apply(pbjs,e)})}function o(a,b){return a[b.adUnitCode]||(a[b.adUnitCode]={bids:[]}),a[b.adUnitCode].bids.push(b),a}function p(a){var b=a.bidderCode,c=a.cpm;if(b&&pbjs.bidderSettings&&pbjs.bidderSettings[b]&&s(pbjs.bidderSettings[b].bidCpmAdjustment)===A)try{c=pbjs.bidderSettings[b].bidCpmAdjustment.call(null,a.cpm,y.extend({},a))}catch(d){y.logError("Error during bid adjustment","bidmanager.js",d)}c>=0&&(a.cpm=c)}function q(){var a=pbjs.bidderSettings;return a[w.JSON_MAPPING.BD_SETTING_STANDARD]||(a[w.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hb_bidder",val:function(a){return a.bidderCode}},{key:"hb_adid",val:function(a){return a.adId}},{key:"hb_pb",val:function(a){return C===w.GRANULARITY_OPTIONS.AUTO?a.pbAg:C===w.GRANULARITY_OPTIONS.DENSE?a.pbDg:C===w.GRANULARITY_OPTIONS.LOW?a.pbLg:C===w.GRANULARITY_OPTIONS.MEDIUM?a.pbMg:C===w.GRANULARITY_OPTIONS.HIGH?a.pbHg:C===w.GRANULARITY_OPTIONS.CUSTOM?a.pbCg:void 0}},{key:"hb_size",val:function(a){return a.size}},{key:"hb_deal",val:function(a){return a.dealId}}]}),a[w.JSON_MAPPING.BD_SETTING_STANDARD]}function r(){return q()[w.JSON_MAPPING.ADSERVER_TARGETING]}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},u=c(2),v=c(14),w=c(3),x=w.EVENTS.AUCTION_END,y=c(2),z=c(8),A="function",B={byAdUnit:[],all:[],oneTime:null,timer:!1},C=w.GRANULARITY_OPTIONS.MEDIUM,D=void 0,E={};b.setCustomPriceBucket=function(a){D=a},b.getTimedOutBidders=function(){return pbjs._bidsRequested.map(e).filter(u.uniques).filter(function(a){return pbjs._bidsReceived.map(f).filter(u.uniques).indexOf(a)<0})},b.bidsBackAll=function(){return i()},b.addBidResponse=function(a,c){if(!a)return void y.logWarn("No adUnitCode supplied to addBidResponse, response discarded");if(c){var e=j(c.bidderCode,a),f=e.requestId,h=e.start;if(t(c,{requestId:f,responseTimestamp:d(),requestTimestamp:h,cpm:c.cpm||0,bidder:c.bidderCode,adUnitCode:a}),c.timeToRespond=c.responseTimestamp-c.requestTimestamp,c.timeToRespond>pbjs.cbTimeout+pbjs.timeoutBuffer){var l=!0;b.executeCallback(l)}z.emit(w.EVENTS.BID_ADJUSTMENT,c),z.emit(w.EVENTS.BID_RESPONSE,c);var n=v.getPriceBucketString(c.cpm,D);c.pbLg=n.low,c.pbMg=n.med,c.pbHg=n.high,c.pbAg=n.auto,c.pbDg=n.dense,c.pbCg=n.custom;var o={};c.bidderCode&&(c.cpm>0||c.dealId)&&(o=k(c.bidderCode,c)),c.adserverTargeting=o,pbjs._bidsReceived.push(c)}c&&c.adUnitCode&&g(c.adUnitCode)&&m(c.adUnitCode),i()&&b.executeCallback()},b.getKeyValueTargetingPairs=function(){return k.apply(void 0,arguments)},b.setPriceGranularity=function(a){var b=w.GRANULARITY_OPTIONS;Object.keys(b).filter(function(c){return a===b[c]})?C=a:(y.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default."),C=w.GRANULARITY_OPTIONS.MEDIUM)},b.registerDefaultBidderSetting=function(a,b){E[a]=b},b.executeCallback=function(a){if(!a&&B.timer&&clearTimeout(B.timer),B.all.called!==!0&&(n(B.all),B.all.called=!0,a)){var c=b.getTimedOutBidders();c.length&&z.emit(w.EVENTS.BID_TIMEOUT,c)}if(B.oneTime){z.emit(x);try{n([B.oneTime])}catch(d){y.logError("Error executing bidsBackHandler",null,d)}finally{B.oneTime=null,B.timer=!1,pbjs.clearAuction()}}},b.externalCallbackReset=function(){B.all.called=!1},b.addOneTimeCallback=function(a,b){B.oneTime=a,B.timer=b},b.addCallback=function(a,b,c){b.id=a,w.CB.TYPE.ALL_BIDS_BACK===c?B.all.push(b):w.CB.TYPE.AD_UNIT_BIDS_BACK===c&&B.byAdUnit.push(b)},z.on(w.EVENTS.BID_ADJUSTMENT,function(a){p(a)}),b.adjustBids=function(){return p.apply(void 0,arguments)},b.getStandardBidderAdServerTargeting=r},function(a,b){"use strict";function c(a,b){var c=0;return c=parseFloat(a),isNaN(c)&&(c=""),{low:""===c?"":d(a,h),med:""===c?"":d(a,i),high:""===c?"":d(a,j),auto:""===c?"":d(a,l),dense:""===c?"":d(a,k),custom:""===c?"":d(a,b)}}function d(a,b){var c="";if(!e(b))return c;var d=b.buckets.reduce(function(a,b){return a.max>b.max?a:b},{max:0}),h=b.buckets.find(function(b){if(a>d.max){var e=b.precision||g;c=b.max.toFixed(e)}else if(a<=b.max&&a>=b.min)return b});return h&&(c=f(a,h.increment,h.precision)),c}function e(a){if(!a||!a.buckets||!Array.isArray(a.buckets))return!1;var b=!0;return a.buckets.forEach(function(a){"undefined"!=typeof a.min&&a.max&&a.increment||(b=!1)}),b}function f(a,b,c){c||(c=g);var d=1/b;return(Math.floor(a*d)/d).toFixed(c)}Object.defineProperty(b,"__esModule",{value:!0});var g=2,h={buckets:[{min:0,max:5,increment:.5}]},i={buckets:[{min:0,max:20,increment:.1}]},j={buckets:[{min:0,max:20,increment:.01}]},k={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},l={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};b.getPriceBucketString=c,b.isValidePriceConfig=e},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(2),f=c(12),g=c(13),h=c(16),i="INDEXEXCHANGE",j="indexExchange",k={INDEX_DEBUG_MODE:{queryParam:"pbjs_ix_debug",mode:{sandbox:{topFrameLimit:10,queryValue:"sandbox",siteID:"999990"}}}},l="IOM",m="IPM";window.cygnus_index_parse_res=function(a){try{if(a){if("object"!==("undefined"==typeof _IndexRequestData?"undefined":d(_IndexRequestData))||"object"!==d(_IndexRequestData.impIDToSlotID)||"undefined"==typeof _IndexRequestData.impIDToSlotID[a.id])return;var b,c=1;"object"===d(_IndexRequestData.reqOptions)&&"object"===d(_IndexRequestData.reqOptions[a.id])&&("function"==typeof _IndexRequestData.reqOptions[a.id].callback&&(b=_IndexRequestData.reqOptions[a.id].callback),"number"==typeof _IndexRequestData.reqOptions[a.id].targetMode&&(c=_IndexRequestData.reqOptions[a.id].targetMode)),_IndexRequestData.lastRequestID=a.id,_IndexRequestData.targetIDToBid={},_IndexRequestData.targetIDToResp={},_IndexRequestData.targetIDToCreative={};for(var e=[],f="undefined"==typeof a.seatbid?0:a.seatbid.length,g=0;f>g;g++)for(var h=0;h<a.seatbid[g].bid.length;h++){var i=a.seatbid[g].bid[h];if("object"===d(i.ext)&&"string"==typeof i.ext.pricelevel&&"undefined"!=typeof _IndexRequestData.impIDToSlotID[a.id][i.impid]){var j,k,n,o=_IndexRequestData.impIDToSlotID[a.id][i.impid];"string"==typeof i.ext.dealid?(j=1===c?o+i.ext.pricelevel:o+"_"+i.ext.dealid,k=o+"_"+i.ext.dealid,n=m+"_"):(j=o+i.ext.pricelevel,k=o+i.ext.pricelevel,n=l+"_"),void 0===_IndexRequestData.targetIDToBid[j]?_IndexRequestData.targetIDToBid[j]=[i.adm]:_IndexRequestData.targetIDToBid[j].push(i.adm),void 0===_IndexRequestData.targetIDToCreative[k]?_IndexRequestData.targetIDToCreative[k]=[i.adm]:_IndexRequestData.targetIDToCreative[k].push(i.adm);var p={};p.impressionID=i.impid,"undefined"!=typeof i.ext.dealid&&(p.dealID=i.ext.dealid),p.bid=i.price,p.slotID=o,p.priceLevel=i.ext.pricelevel,p.target=n+j,_IndexRequestData.targetIDToResp[j]=p,e.push(p)}}"function"==typeof b&&(0===e.length?b(a.id):b(a.id,e))}}catch(q){}"function"==typeof window.cygnus_index_ready_state&&window.cygnus_index_ready_state()},window.index_render=function(a,b){try{var c=_IndexRequestData.targetIDToCreative[b].pop();if(null!=c)a.write(c);else{var d="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";d+="/headerstats?type=RT&s="+cygnus_index_args.siteID+"&u="+encodeURIComponent(location.href)+"&r="+_IndexRequestData.lastRequestID;var e=new Image;e.src=d+"&blank="+b}}catch(f){}},window.headertag_render=function(a,b,c){for(var d=c,e=b.split(","),f=0;f<e.length;f++){var g=e[f].split("_");if(g[0]==d)return void index_render(a,e[f])}},window.cygnus_index_args={};var n=[[728,90],[120,600],[300,250],[160,600],[336,280],[234,60],[300,600],[300,50],[320,50],[970,250],[300,1050],[970,90],[180,150]],o=function(){return p(k.INDEX_DEBUG_MODE.queryParam).toUpperCase()},p=function(a){for(var b=window,c="",d=0;d<k.INDEX_DEBUG_MODE.mode.sandbox.topFrameLimit&&b.parent!=b;d++){try{c=b.document.referrer}catch(e){}b=b.parent}var f=top===self?location.href:c,g="[\\?&]"+a+"=([^&#]*)",h=new RegExp(g),i=h.exec(f);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},q=function(){function a(a){var b=f[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}function b(b){return d.lastIndex=0,d.test(b)?b.replace(d,a):b}function c(a,b,c){if(this.initialized=!1,"number"!=typeof a||a%1!==0||0>a)throw"Invalid Site ID";if(c=Number(c),"number"==typeof c&&c%1===0&&c>=0&&(this.timeoutDelay=c),this.siteID=a,this.impressions=[],this._parseFnName=void 0,top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"!=typeof b){if("function"!=typeof b)throw"Invalid jsonp target function";this._parseFnName="cygnus_index_args.parseFn"}_IndexRequestData.requestCounter="undefined"==typeof _IndexRequestData.requestCounter?Math.floor(256*Math.random()):(_IndexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+_IndexRequestData.requestCounter+256),this.initialized=!0}window.cygnus_index_args.parseFn=cygnus_index_parse_res;var d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};c.prototype.serialize=function(){var a='{"id":"'+this.requestID+'","site":{"page":"'+b(this.sitePage)+'"';"string"==typeof document.referrer&&""!==document.referrer&&(a+=',"ref":"'+b(document.referrer)+'"'),a+='},"imp":[';for(var c=0;c<this.impressions.length;c++){var d=this.impressions[c],e=[];a+='{"id":"'+d.id+'", "banner":{"w":'+d.w+',"h":'+d.h+',"topframe":'+String(this.topframe)+"}","number"==typeof d.bidfloor&&(a+=',"bidfloor":'+d.bidfloor,"string"==typeof d.bidfloorcur&&(a+=',"bidfloorcur":"'+b(d.bidfloorcur)+'"')),"string"!=typeof d.slotID||d.slotID.match(/^\s*$/)||e.push('"sid":"'+b(d.slotID)+'"'),"number"==typeof d.siteID&&e.push('"siteID":'+d.siteID),e.length>0&&(a+=',"ext": {'+e.join()+"}"),a+=c+1===this.impressions.length?"}":"},"}return a+="]}"},c.prototype.setPageOverride=function(a){return"string"==typeof a&&!a.match(/^\s*$/)&&(this.sitePage=a,!0)},c.prototype.addImpression=function(a,b,c,d,e,f){var g={id:String(this.impressions.length+1)};if("number"!=typeof a||1>=a)return null;if("number"!=typeof b||1>=b)return null;if(("string"==typeof e||"number"==typeof e)&&String(e).length<=50&&(g.slotID=String(e)),g.w=a,g.h=b,void 0!==c&&"number"!=typeof c)return null;if("number"==typeof c){if(0>c)return null;if(g.bidfloor=c,void 0!==d&&"string"!=typeof d)return null;g.bidfloorcur=d}if("undefined"!=typeof f){if(!("number"==typeof f&&f%1===0&&f>=0))return null;g.siteID=f}return this.impressions.push(g),g.id},c.prototype.buildRequest=function(){if(0!==this.impressions.length&&this.initialized===!0){var a,b=encodeURIComponent(this.serialize());o()==k.INDEX_DEBUG_MODE.mode.sandbox.queryValue.toUpperCase()?(this.siteID=k.INDEX_DEBUG_MODE.mode.sandbox.siteID,a="https:"===window.location.protocol?"https://sandbox.ht.indexexchange.com":"http://sandbox.ht.indexexchange.com",e.logMessage("IX DEBUG: Sandbox mode activated")):a="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";var c=encodeURIComponent("0.21.0-pre");return a+="/cygnus?v=7&fn=cygnus_index_parse_res&s="+this.siteID+"&r="+b+"&pid=pb"+c,"number"==typeof this.timeoutDelay&&this.timeoutDelay%1===0&&this.timeoutDelay>=0&&(a+="&t="+this.timeoutDelay),a}};try{if("undefined"==typeof cygnus_index_args||"undefined"==typeof cygnus_index_args.siteID||"undefined"==typeof cygnus_index_args.slots)return;var g=new c(cygnus_index_args.siteID,cygnus_index_args.parseFn,cygnus_index_args.timeout);cygnus_index_args.url&&"string"==typeof cygnus_index_args.url&&g.setPageOverride(cygnus_index_args.url),_IndexRequestData.impIDToSlotID[g.requestID]={},_IndexRequestData.reqOptions[g.requestID]={};for(var h,j,l=0;l<cygnus_index_args.slots.length;l++)h=cygnus_index_args.slots[l],j=g.addImpression(h.width,h.height,h.bidfloor,h.bidfloorcur,h.id,h.siteID),j&&(_IndexRequestData.impIDToSlotID[g.requestID][j]=String(h.id));return"number"==typeof cygnus_index_args.targetMode&&(_IndexRequestData.reqOptions[g.requestID].targetMode=cygnus_index_args.targetMode),"function"==typeof cygnus_index_args.callback&&(_IndexRequestData.reqOptions[g.requestID].callback=cygnus_index_args.callback),g.buildRequest()}catch(m){e.logError("Error calling index adapter",i,m)}},r=function(){function a(a){var p=a.bids;if("undefined"==typeof window._IndexRequestData&&(window._IndexRequestData={},window._IndexRequestData.impIDToSlotID={},window._IndexRequestData.reqOptions={}),_IndexRequestData.targetAggregate={open:{},"private":{}},e.hasValidBidRequest(p[0].params,m,i)){cygnus_index_args.slots=[];for(var r=0,s=0;s<p.length;s++){var t=p[s],u=0;r++,t.sizes[0]instanceof Array||(t.sizes=[t.sizes]);for(var v=0;v<t.sizes.length;v++){for(var w=!1,x=0;x<n.length;x++)if(t.sizes[v][0]==n[x][0]&&t.sizes[v][1]==n[x][1]){t.sizes[v][0]=Number(t.sizes[v][0]),t.sizes[v][1]=Number(t.sizes[v][1]),w=!0;break}if(w){var y=!1;if(t.params.size&&t.params.size instanceof Array){if(t.sizes[v][0]!=t.params.size[0]||t.sizes[v][1]!=t.params.size[1])continue;y=!0}t.params.timeout&&"undefined"==typeof cygnus_index_args.timeout&&(cygnus_index_args.timeout=t.params.timeout);var z=Number(t.params.siteID);if("number"!=typeof z||z%1!=0||0>=z)e.logMessage(i+" slot excluded from request due to invalid siteID");else if(z&&"undefined"==typeof cygnus_index_args.siteID&&(cygnus_index_args.siteID=z),e.hasValidBidRequest(t.params,m,i)){o=t.placementCode;var A=t.params[m[0]];if("string"!=typeof A&&"number"!=typeof A){e.logError(i+" bid contains invalid slot ID from "+t.placementCode+". Discarding slot");continue}u++;var B={width:t.sizes[v][0],height:t.sizes[v][1]},C=y?String(A):A+"_"+u;if(l[C]=t,cygnus_index_args.slots=b({id:C,width:B.width,height:B.height,siteID:z||cygnus_index_args.siteID},cygnus_index_args.slots),t.params.tier2SiteID){var D=Number(t.params.tier2SiteID);if("undefined"!=typeof D&&!D)continue;cygnus_index_args.slots=b({id:"T1_"+C,width:B.width,height:B.height,siteID:D},cygnus_index_args.slots)}if(t.params.tier3SiteID){var E=Number(t.params.tier3SiteID);if("undefined"!=typeof E&&!E)continue;cygnus_index_args.slots=b({id:"T2_"+C,width:B.width,height:B.height,siteID:E},cygnus_index_args.slots)}}}else e.logMessage(i+" slot excluded from request due to no valid sizes")}}cygnus_index_args.slots.length>20&&e.logError("Too many unique sizes on slots, will use the first 20.",i),h.loadScript(q());var F=!1;window.cygnus_index_ready_state=function(){if(!F){F=!0;try{var a=_IndexRequestData.targetIDToBid;for(var b in l){var h=l[b],m=h.placementCode,n=[];for(var o in a){var p=/^(T\d_)?(.+)_(\d+)$/.exec(o);if(p){var q=p[1]||"",r=p[2],s=p[3],t=c(cygnus_index_args,q+r);if(r===b){var u=f.createBid(1);u.cpm=s/100,u.ad=a[o][0],u.bidderCode=j,u.width=t.width,u.height=t.height,u.siteID=t.siteID,"object"===d(_IndexRequestData.targetIDToResp)&&"object"===d(_IndexRequestData.targetIDToResp[o])&&"undefined"!=typeof _IndexRequestData.targetIDToResp[o].dealID?("undefined"==typeof _IndexRequestData.targetAggregate["private"][m]&&(_IndexRequestData.targetAggregate["private"][m]=[]),u.dealId=_IndexRequestData.targetIDToResp[o].dealID,_IndexRequestData.targetAggregate["private"][m].push(r+"_"+_IndexRequestData.targetIDToResp[o].dealID)):("undefined"==typeof _IndexRequestData.targetAggregate.open[m]&&(_IndexRequestData.targetAggregate.open[m]=[]),_IndexRequestData.targetAggregate.open[m].push(r+"_"+s)),n.push(u)}}else e.logError("Unable to parse "+o+", skipping slot",i)}var v=void 0;if(n.length>0)for(var w=0;w<n.length;w++)g.addBidResponse(m,n[w]);else{var u=f.createBid(2);u.bidderCode=j,v=u,g.addBidResponse(m,v)}}}catch(x){e.logError("Error calling index adapter",i,x),k()}finally{_IndexRequestData.targetIDToBid={}}l={}}}}}function b(a,b){for(var c=0;c<b.length;c++)if(a.id===b[c].id)return b;return b.push(a),b}function c(a,b){var c=a.slots,d={};return e._each(c,function(a){a.id===b&&(d=a)}),d}function k(){var a=f.createBid(2);a.bidderCode=j,g.addBidResponse(o,a)}var l={},m=["id","siteID"],o="";return{callBids:a}};a.exports=r},function(a,b,c){"use strict";function d(a,b){var c=document.createElement("script");c.type="text/javascript",c.async=!0,b&&"function"==typeof b&&(c.readyState?c.onreadystatechange=function(){("loaded"===c.readyState||"complete"===c.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()}),c.src=a;var d=document.getElementsByTagName("head");d=d.length?d:document.getElementsByTagName("body"),d.length&&(d=d[0],d.insertBefore(c,d.firstChild))}var e=c(2),f={};b.loadScript=function(a,b,c){return a?void(c?f[a]?b&&"function"==typeof b&&(f[a].loaded?b():f[a].callbacks.push(b)):(f[a]={loaded:!1,callbacks:[]},b&&"function"==typeof b&&f[a].callbacks.push(b),d(a,function(){f[a].loaded=!0;try{for(var b=0;b<f[a].callbacks.length;b++)f[a].callbacks[b]()}catch(c){e.logError("Error executing callback","adloader.js:loadScript",c)}})):d(a,b)):void e.logError("Error attempting to request empty URL","adloader.js:loadScript")},b.trackPixel=function(a){var b=void 0,c=void 0;return a&&"string"==typeof a?(b=a.indexOf("?")>0?"&":"?",c=a+b+"rnd="+Math.floor(1e7*Math.random()),(new Image).src=c,c):void e.logMessage("Missing or invalid pixelUrl.")}},function(a,b,c){"use strict";var d=c(12),e=c(13),f=c(16),g=c(3),h=c(2),i=function(){function a(a){var b=void 0,c=void 0,d=window,e=document,f=e.documentElement,g=void 0;if(a){try{d=window.top,e=window.top.document}catch(h){return}f=e.documentElement,g=e.body,b=d.innerWidth||f.clientWidth||g.clientWidth,c=d.innerHeight||f.clientHeight||g.clientHeight}else f=e.documentElement,b=d.innerWidth||f.clientWidth,c=d.innerHeight||f.clientHeight;return b+"x"+c}function b(a){var b=h.createInvisibleIframe(),c="openx-pd";b.setAttribute("id",c),b.setAttribute("name",c);var d=document.body;d&&(b.src=a,q?(q.parentNode.replaceChild(b,q),q=b):q=d.appendChild(b))}function c(a,b){var c=d.createBid(a?g.STATUS.GOOD:g.STATUS.NO_BID,b);if(c.bidderCode=n,a){var f=a.creative[0];c.ad=a.html,c.cpm=Number(a.pub_rev)/1e3,c.ad_id=a.adid,a.deal_id&&(c.dealId=a.deal_id),f&&(c.width=f.width,c.height=f.height)}e.addBidResponse(b.placementCode,c)}function i(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]||delete a[b]);return h._map(Object.keys(a),function(b){return b+"="+a[b]}).join("&")}function j(a,b){var c=new Image,d=a.tracking.impression,e=d.match(/([^?]+\/)ri\?/);e&&(c.src=e[1]+"bo?"+i(b))}function k(a,b){var c=h.parseSizesInput(b.sizes),d=c&&c.length||0,e=!1,f=a.creative&&a.creative[0],g=String(f.width)+"x"+String(f.height);if(h.isArray(c))for(var i=0;d>i;i++){var j=c[i];if(String(j)===String(g)){e=!0;break}}return e}function l(a,b,c){if(h.isArray(a)){b.auid=h._map(a,function(a){return a.params.unit}).join("%2C"),b.aus=h._map(a,function(a){return h.parseSizesInput(a.sizes).join(",")}).join("|"),a.forEach(function(a){for(var c in a.params.customParams)a.params.customParams.hasOwnProperty(c)&&(b["c."+c]=a.params.customParams[c])}),b.callback="window.pbjs.oxARJResponse";var d=i(b);f.loadScript("//"+c+"/w/1.0/arj?"+d)}}function m(b){var c=void 0,d=b.bids||[],e=window.location.href&&encodeURIComponent(window.location.href);try{c=window.self!==window.top}catch(f){c=!1}if(0!==d.length){var g=d[0].params.delDomain;p=new Date(b.start),l(d,{ju:e,jr:e,ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:c,tz:p.getTimezoneOffset(),tws:a(c),ee:"api_sync_write",ef:"bt%2Cdb",be:1,bc:o},g)}}var n="openx",o="hb_pb",p=void 0,q=null;return pbjs.oxARJResponse=function(a){var d=a.ads.ad;a.ads&&a.ads.pixels&&b(a.ads.pixels),d||(d=[]);for(var e=pbjs._bidsRequested.find(function(a){return"openx"===a.bidderCode}).bids,f=0;f<e.length;f++){for(var g=e[f],h=null,i=null,l=0;l<d.length;l++)if(i=d[l],String(g.params.unit)===String(i.adunitid)&&k(i,g)&&!i.used){h=i.adunitid;break}var m={bd:+new Date-p,br:"0",bt:pbjs.cbTimeout||pbjs.bidderTimeout,bs:window.location.hostname};h&&i.pub_rev?(i.used=!0,m.br=m.bt<m.bd?"t":"p",m.bp=i.pub_rev,m.ts=i.ts,c(i,g),j(i.creative[0],m)):c(null,g)}},{callBids:m}};a.exports=i},function(a,b,c){"use strict";var d=c(12),e=c(13),f=c(16),g=c(2),h=function(){function a(a){var d="https://apex.go.sonobi.com/trinity.js?key_maker=",e=a.bids||[],g=a.bidderRequestId,h=window.frameElement?"&ref="+encodeURI(top.location.host||document.referrer):"";f.loadScript(d+JSON.stringify(b(e))+"&cv="+c(g)+h)}function b(a){var b={};return g._each(a,function(a){if(a.params){var c=a.params.floor?a.params.floor:null,d=a.params.ad_unit?a.params.ad_unit:a.params.placement_id?a.params.placement_id:null,e=g.parseSizesInput(a.sizes).toString()||null,f=a.bidId;g.isEmpty(e)&&g.logError("Sonobi adapter expects sizes for "+a.placementCode);var h=e?c?e+"|f="+c:e:c?"f="+c:"";/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(d)?(d="/"===d.charAt(0)?d:"/"+d,b[d+"|"+f]=h,m[d+"|"+f]=a.placementCode,n[a.placementCode]=a):/^[0-9a-fA-F]{20}$/.test(d)&&20===d.length?(b[f]=d+"|"+h,m[f]=a.placementCode,n[a.placementCode]=a):(m[f]=a.placementCode,n[a.placementCode]=a,k(a.placementCode),g.logError("The ad unit code or Sonobi Placement id for slot "+a.placementCode+" is invalid"))}}),b}function c(a){var b="sbi_"+a;return window[b]=h,b}function h(a){var b=a.slots||{},c=a.sbi_dc||"";g._each(b,function(a,b){var d=m[b];a.sbi_aid&&a.sbi_mouse&&a.sbi_size?j(d,c,a):k(d),delete m[b]})}function i(a){var b=n[a];return delete n[a],b}function j(a,b,c){var f=d.createBid(1,i(a));c.sbi_dozer&&(f.dealId=c.sbi_dozer),f.bidderCode="sonobi",f.ad=l(b,c.sbi_aid),f.cpm=Number(c.sbi_mouse),f.width=Number(c.sbi_size.split("x")[0])||1,f.height=Number(c.sbi_size.split("x")[1])||1,e.addBidResponse(a,f)}function k(a){var b=d.createBid(2,i(a));b.bidderCode="sonobi",e.addBidResponse(a,b)}function l(a,b){var c="https://"+a+"apex.go.sonobi.com/sbi.js?aid="+b+"&as=null";return'<script type="text/javascript" src="'+c+'"></script>'}var m={},n={};return{callBids:a,formRequest:b,parseResponse:h,success:j,failure:k}};a.exports=h},function(a,b,c){"use strict";var d=c(3),e=c(2),f=c(12),g=c(13),h=c(16),i=function(){function a(a){var c=a.bids||[];b(c)}function b(a){var b=window.location.host,c=window.location.pathname+location.search+location.hash,f=[];e._each(a,function(a){var b=e.getBidIdParameter("tagid",a.params),c=e.getBidIdParameter("bidfloor",a.params),d=0,g=0,h=Array.isArray(a.params.sizes)?a.params.sizes:a.sizes,i=h.length;2===i&&"number"==typeof h[0]&&"number"==typeof h[1]?(d=h[0],g=h[1]):(d=h[0][0],g=h[0][1]);var j={id:a.bidId,banner:{w:d,h:g},tagid:b,bidfloor:c};f.push(j)});var g={id:e.getUniqueIdentifierStr(),imp:f,site:{domain:b,page:c}},j="//"+i+"?callback=window.pbjs.sovrnResponse&src="+d.REPO_AND_VERSION+"&br="+encodeURIComponent(JSON.stringify(g));h.loadScript(j)}function c(a){var b=pbjs._bidsRequested.find(function(a){return"sovrn"===a.bidderCode});b=b?b.bids.filter(function(b){return a.indexOf(b.bidId)<0}):[],b.forEach(function(a){var b={};b=f.createBid(2,a),b.bidderCode="sovrn",g.addBidResponse(a.placementCode,b)})}var i="ap.lijit.com/rtb/bid";return pbjs.sovrnResponse=function(a){if(a&&a.id)if(a.seatbid&&0!==a.seatbid.length&&a.seatbid[0].bid&&0!==a.seatbid[0].bid.length){var b=[];a.seatbid[0].bid.forEach(function(a){var c,e="",h=a.impid,i={},j=pbjs._bidsRequested.find(function(a){return"sovrn"===a.bidderCode}).bids.find(function(a){return a.bidId===h});if(j&&(e=j.placementCode,j.status=d.STATUS.GOOD,c=parseFloat(a.price),0!==c)){a.placementCode=e,a.size=j.sizes;var k=a.adm,l='<img src="'+a.nurl+'">';i=f.createBid(1,j),i.creative_id=a.id,i.bidderCode="sovrn",i.cpm=c,i.ad=decodeURIComponent(k+l),i.width=parseInt(a.w),i.height=parseInt(a.h),g.addBidResponse(e,i),b.push(h)}}),c(b)}else c([]);else c([])},{callBids:a}};a.exports=i},function(a,b,c){"use strict";var d=c(12),e=c(13),f=c(16),g=function(){function a(a){!window.criteo_pubtag||window.criteo_pubtag instanceof Array?(b(a),f.loadScript(k,function(){},!0)):b(a)}function b(a){window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[];var b=function(){for(var b=a.bids||[],c=[],d=!1,e=0;e<b.length;e++){var f=b[e];c.push(new Criteo.PubTag.DirectBidding.DirectBiddingSlot(f.placementCode,f.params.zoneId)),d|=void 0!==f.params.audit}var g=new Criteo.PubTag.DirectBidding.DirectBiddingEvent(m,new Criteo.PubTag.DirectBidding.DirectBiddingUrlBuilder(d),c,h(c),i(c),i(c));window.criteo_pubtag.push(g)};window.Criteo.events.push(b)}function c(a){try{return JSON.parse(a)}catch(b){return{}}}function g(a){return void 0===a.slots}function h(a){return function(b){var f=c(b);if(g(f))return i(a)();for(var h=0;h<a.length;h++){for(var k=null,m=0;m<f.slots.length;m++)if(f.slots[m]&&f.slots[m].impid===a[h].impId){k=f.slots.splice(m,1)[0];break}var n;k?(n=d.createBid(1),n.bidderCode=l,n.cpm=k.cpm,n.ad=k.creative,n.width=k.width,n.height=k.height):n=j(),e.addBidResponse(a[h].impId,n)}}}function i(a){return function(){for(var b=0;b<a.length;b++)e.addBidResponse(a[b].impId,j())}}function j(){var a=d.createBid(2);return a.bidderCode=l,a}var k=window.location.protocol+"//static.criteo.net/js/ld/publishertag.js",l="criteo",m=125;return{callBids:a}};a.exports=g},function(a,b,c){"use strict";var d=c(12),e=c(13),f=c(16),g=function(){var a=this,b=window.location.protocol+"//prebid.districtm.ca/lib.js";return this.callBids=function(c){return window.hb_dmx_res?a.sendBids(c):f.loadScript(b,function(){a.sendBids(c)}),c},this.handlerRes=function(a,b){var c=void 0;return parseFloat(a.result.cpm)>0?(c=d.createBid(1),c.bidderCode=b.bidder,c.cpm=a.result.cpm,c.width=a.result.width,c.height=a.result.height,c.ad=a.result.banner,e.addBidResponse(b.placementCode,c)):(c=d.createBid(2),c.bidderCode=b.bidder,e.addBidResponse(b.placementCode,c)),c},this.sendBids=function(a){for(var b=a.bids,c=0;c<b.length;c++)b[c].params.sizes=window.hb_dmx_res.auction.fixSize(b[c].sizes);return window.hb_dmx_res.auction.run(window.hb_dmx_res.ssp,b,this.handlerRes),b},{callBids:this.callBids,sendBids:this.sendBids,handlerRes:this.handlerRes}};a.exports=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(23),f=d(e),g=c(48),h=d(g);Array.prototype.find||f["default"](),Array.prototype.includes||h["default"](),Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a}},function(a,b,c){"use strict";var d=c(24),e=c(28);a.exports=function(){var a=e();return d(Array.prototype,{find:a},{find:function(){return Array.prototype.find!==a}}),a}},function(a,b,c){"use strict";var d=c(25),e=c(27),f="function"==typeof Symbol&&"symbol"==typeof Symbol(),g=Object.prototype.toString,h=function(a){return"function"==typeof a&&"[object Function]"===g.call(a)},i=function(){var a={};try{Object.defineProperty(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a}catch(c){return!1}},j=Object.defineProperty&&i(),k=function(a,b,c,d){(!(b in a)||h(d)&&d())&&(j?Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value:c,writable:!0}):a[b]=c)},l=function(a,b){var c=arguments.length>2?arguments[2]:{},g=d(b);f&&(g=g.concat(Object.getOwnPropertySymbols(b))),e(g,function(d){k(a,d,b[d],c[d])})};l.supportsDescriptors=!!j,a.exports=l},function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=Array.prototype.slice,g=c(26),h=Object.prototype.propertyIsEnumerable,i=!h.call({toString:null},"toString"),j=h.call(function(){},"prototype"),k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(a){var b=a.constructor;return b&&b.prototype===a},m={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if("undefined"==typeof window)return!1;for(var a in window)try{if(!m["$"+a]&&d.call(window,a)&&null!==window[a]&&"object"==typeof window[a])try{l(window[a])}catch(b){return!0}}catch(b){return!0}return!1}(),o=function(a){if("undefined"==typeof window||!n)return l(a);try{return l(a)}catch(b){return!1}},p=function(a){var b=null!==a&&"object"==typeof a,c="[object Function]"===e.call(a),f=g(a),h=b&&"[object String]"===e.call(a),l=[];if(!b&&!c&&!f)throw new TypeError("Object.keys called on a non-object");var m=j&&c;if(h&&a.length>0&&!d.call(a,0))for(var n=0;n<a.length;++n)l.push(String(n));if(f&&a.length>0)for(var p=0;p<a.length;++p)l.push(String(p));else for(var q in a)m&&"prototype"===q||!d.call(a,q)||l.push(String(q));if(i)for(var r=o(a),s=0;s<k.length;++s)r&&"constructor"===k[s]||!d.call(a,k[s])||l.push(k[s]);return l};p.shim=function(){if(Object.keys){var a=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!a){var b=Object.keys;Object.keys=function(a){return b(g(a)?f.call(a):a)}}}else Object.keys=p;return Object.keys||p},a.exports=p},function(a){"use strict";var b=Object.prototype.toString;a.exports=function(a){var c=b.call(a),d="[object Arguments]"===c;return d||(d="[object Array]"!==c&&null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===b.call(a.callee)),d}},function(a){var b=Object.prototype.hasOwnProperty,c=Object.prototype.toString;a.exports=function(a,d,e){if("[object Function]"!==c.call(d))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;f>g;g++)d.call(e,a[g],g,a);else for(var h in a)b.call(a,h)&&d.call(e,a[h],h,a);
}},function(a,b,c){"use strict";a.exports=function(){var a=Array.prototype.find&&1!==[,1].find(function(){return!0});return a?Array.prototype.find:c(29)}},function(a,b,c){"use strict";var d=c(30);a.exports=function(a){var b=d.ToObject(this),c=d.ToInteger(d.ToLength(b.length));if(!d.IsCallable(a))throw new TypeError("Array#find: predicate must be a function");if(0!==c)for(var e,f=arguments[1],g=0;c>g;g++)if(e=b[g],d.Call(a,f,[e,g,b]))return e}},function(a,b,c){"use strict";var d=Object.prototype.toString,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,f=e?Symbol.prototype.toString:d,g=c(31),h=c(32),i=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,j=c(33),k=c(34),l=c(35),m=c(36),n=c(37),o=parseInt,p=c(42),q=p.call(Function.call,String.prototype.slice),r=p.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),s=p.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),t=["","​","￾"].join(""),u=new RegExp("["+t+"]","g"),v=p.call(Function.call,RegExp.prototype.test,u),w=/^[-+]0x[0-9a-f]+$/i,x=p.call(Function.call,RegExp.prototype.test,w),y=["\t\n\x0B\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),z=new RegExp("(^["+y+"]+)|(["+y+"]+$)","g"),A=p.call(Function.call,String.prototype.replace),B=function(a){return A(a,z,"")},C=c(44),D=c(46),E=j(j({},C),{Call:function(a,b){var c=arguments.length>2?arguments[2]:[];if(!this.IsCallable(a))throw new TypeError(a+" is not a function");return a.apply(b,c)},ToPrimitive:n,ToNumber:function(a){var b=m(a)?a:n(a,"number");if("symbol"==typeof b)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof b){if(r(b))return this.ToNumber(o(q(b,2),2));if(s(b))return this.ToNumber(o(q(b,2),8));if(v(b)||x(b))return NaN;var c=B(b);if(c!==b)return this.ToNumber(c)}return Number(b)},ToInt16:function(a){var b=this.ToUint16(a);return b>=32768?b-65536:b},ToInt8:function(a){var b=this.ToUint8(a);return b>=128?b-256:b},ToUint8:function(a){var b=this.ToNumber(a);if(g(b)||0===b||!h(b))return 0;var c=k(b)*Math.floor(Math.abs(b));return l(c,256)},ToUint8Clamp:function(a){var b=this.ToNumber(a);if(g(b)||0>=b)return 0;if(b>=255)return 255;var c=Math.floor(a);return b>c+.5?c+1:c+.5>b?c:c%2!==0?c+1:c},ToString:function(a){if("symbol"==typeof a)throw new TypeError("Cannot convert a Symbol value to a string");return String(a)},ToObject:function(a){return this.RequireObjectCoercible(a),Object(a)},ToPropertyKey:function(a){var b=this.ToPrimitive(a,String);return"symbol"==typeof b?f.call(b):this.ToString(b)},ToLength:function(a){var b=this.ToInteger(a);return 0>=b?0:b>i?i:b},CanonicalNumericIndexString:function(a){if("[object String]"!==d.call(a))throw new TypeError("must be a string");if("-0"===a)return-0;var b=this.ToNumber(a);return this.SameValue(this.ToString(b),a)?b:void 0},RequireObjectCoercible:C.CheckObjectCoercible,IsArray:Array.isArray||function(a){return"[object Array]"===d.call(a)},IsConstructor:function(a){return"function"==typeof a&&!!a.prototype},IsExtensible:function(a){return!Object.preventExtensions||!m(a)&&Object.isExtensible(a)},IsInteger:function(a){if("number"!=typeof a||g(a)||!h(a))return!1;var b=Math.abs(a);return Math.floor(b)===b},IsPropertyKey:function(a){return"string"==typeof a||"symbol"==typeof a},IsRegExp:function(a){if(!a||"object"!=typeof a)return!1;if(e){var b=a[Symbol.match];if("undefined"!=typeof b)return C.ToBoolean(b)}return D(a)},SameValueZero:function(a,b){return a===b||g(a)&&g(b)},GetV:function(a,b){if(!this.IsPropertyKey(b))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var c=this.ToObject(a);return c[b]},GetMethod:function(a,b){if(!this.IsPropertyKey(b))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var c=this.GetV(a,b);if(null!=c){if(!this.IsCallable(c))throw new TypeError(b+"is not a function");return c}},Get:function(a,b){if("Object"!==this.Type(a))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(b))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return a[b]},Type:function(a){return"symbol"==typeof a?"Symbol":C.Type(a)},SpeciesConstructor:function(a,b){if("Object"!==this.Type(a))throw new TypeError("Assertion failed: Type(O) is not Object");var c=a.constructor;if("undefined"==typeof c)return b;if("Object"!==this.Type(c))throw new TypeError("O.constructor is not an Object");var d=e&&Symbol.species?c[Symbol.species]:void 0;if(null==d)return b;if(this.IsConstructor(d))return d;throw new TypeError("no constructor found")}});delete E.CheckObjectCoercible,a.exports=E},function(a){a.exports=Number.isNaN||function(a){return a!==a}},function(a){var b=Number.isNaN||function(a){return a!==a};a.exports=Number.isFinite||function(a){return"number"==typeof a&&!b(a)&&1/0!==a&&a!==-1/0}},function(a){var b=Object.prototype.hasOwnProperty;a.exports=Object.assign||function(a,c){for(var d in c)b.call(c,d)&&(a[d]=c[d]);return a}},function(a){a.exports=function(a){return a>=0?1:-1}},function(a){a.exports=function(a,b){var c=a%b;return Math.floor(c>=0?c:c+b)}},function(a){a.exports=function(a){return null===a||"function"!=typeof a&&"object"!=typeof a}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,e=c(38),f=c(39),g=c(40),h=c(41),i=function(a,b){if("undefined"==typeof a||null===a)throw new TypeError("Cannot call method on "+a);if("string"!=typeof b||"number"!==b&&"string"!==b)throw new TypeError('hint must be "string" or "number"');var c,d,g,h="string"===b?["toString","valueOf"]:["valueOf","toString"];for(g=0;g<h.length;++g)if(c=a[h[g]],f(c)&&(d=c.call(a),e(d)))return d;throw new TypeError("No default value")},j=function(a,b){var c=a[b];if(null!==c&&"undefined"!=typeof c){if(!f(c))throw new TypeError(c+" returned for property "+b+" of object "+a+" is not a function");return c}};a.exports=function(a,b){if(e(a))return a;var c="default";arguments.length>1&&(b===String?c="string":b===Number&&(c="number"));var f;if(d&&(Symbol.toPrimitive?f=j(a,Symbol.toPrimitive):h(a)&&(f=Symbol.prototype.valueOf)),"undefined"!=typeof f){var k=f.call(a,c);if(e(k))return k;throw new TypeError("unable to convert exotic object to primitive")}return"default"===c&&(g(a)||h(a))&&(c="string"),i(a,"default"===c?"number":c)}},function(a){a.exports=function(a){return null===a||"function"!=typeof a&&"object"!=typeof a}},function(a){"use strict";var b=Function.prototype.toString,c=/^\s*class /,d=function(a){try{var d=b.call(a),e=d.replace(/\/\/.*\n/g,""),f=e.replace(/\/\*[.\s\S]*\*\//g,""),g=f.replace(/\n/gm," ").replace(/ {2}/g," ");return c.test(g)}catch(h){return!1}},e=function(a){try{return!d(a)&&(b.call(a),!0)}catch(c){return!1}},f=Object.prototype.toString,g="[object Function]",h="[object GeneratorFunction]",i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;a.exports=function(a){if(!a)return!1;if("function"!=typeof a&&"object"!=typeof a)return!1;if(i)return e(a);if(d(a))return!1;var b=f.call(a);return b===g||b===h}},function(a){"use strict";var b=Date.prototype.getDay,c=function(a){try{return b.call(a),!0}catch(c){return!1}},d=Object.prototype.toString,e="[object Date]",f="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;a.exports=function(a){return"object"==typeof a&&null!==a&&(f?c(a):d.call(a)===e)}},function(a){"use strict";var b=Object.prototype.toString,c="function"==typeof Symbol&&"symbol"==typeof Symbol();if(c){var d=Symbol.prototype.toString,e=/^Symbol\(.*\)$/,f=function(a){return"symbol"==typeof a.valueOf()&&e.test(d.call(a))};a.exports=function(a){if("symbol"==typeof a)return!0;if("[object Symbol]"!==b.call(a))return!1;try{return f(a)}catch(c){return!1}}}else a.exports=function(){return!1}},function(a,b,c){var d=c(43);a.exports=Function.prototype.bind||d},function(a){var b="Function.prototype.bind called on incompatible ",c=Array.prototype.slice,d=Object.prototype.toString,e="[object Function]";a.exports=function(a){var f=this;if("function"!=typeof f||d.call(f)!==e)throw new TypeError(b+f);for(var g,h=c.call(arguments,1),i=function(){if(this instanceof g){var b=f.apply(this,h.concat(c.call(arguments)));return Object(b)===b?b:this}return f.apply(a,h.concat(c.call(arguments)))},j=Math.max(0,f.length-h.length),k=[],l=0;j>l;l++)k.push("$"+l);if(g=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this,arguments); }")(i),f.prototype){var m=function(){};m.prototype=f.prototype,g.prototype=new m,m.prototype=null}return g}},function(a,b,c){"use strict";var d=c(31),e=c(32),f=c(34),g=c(35),h=c(39),i=c(45),j={ToPrimitive:i,ToBoolean:function(a){return Boolean(a)},ToNumber:function(a){return Number(a)},ToInteger:function(a){var b=this.ToNumber(a);return d(b)?0:0!==b&&e(b)?f(b)*Math.floor(Math.abs(b)):b},ToInt32:function(a){return this.ToNumber(a)>>0},ToUint32:function(a){return this.ToNumber(a)>>>0},ToUint16:function(a){var b=this.ToNumber(a);if(d(b)||0===b||!e(b))return 0;var c=f(b)*Math.floor(Math.abs(b));return g(c,65536)},ToString:function(a){return String(a)},ToObject:function(a){return this.CheckObjectCoercible(a),Object(a)},CheckObjectCoercible:function(a,b){if(null==a)throw new TypeError(b||"Cannot call method on "+a);return a},IsCallable:h,SameValue:function(a,b){return a===b?0!==a||1/a===1/b:d(a)&&d(b)},Type:function(a){return null===a?"Null":"undefined"==typeof a?"Undefined":"function"==typeof a||"object"==typeof a?"Object":"number"==typeof a?"Number":"boolean"==typeof a?"Boolean":"string"==typeof a?"String":void 0}};a.exports=j},function(a,b,c){"use strict";var d=Object.prototype.toString,e=c(38),f=c(39),g={"[[DefaultValue]]":function(a,b){var c=b||("[object Date]"===d.call(a)?String:Number);if(c===String||c===Number){var g,h,i=c===String?["toString","valueOf"]:["valueOf","toString"];for(h=0;h<i.length;++h)if(f(a[i[h]])&&(g=a[i[h]](),e(g)))return g;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};a.exports=function(a,b){return e(a)?a:g["[[DefaultValue]]"](a,b)}},function(a,b,c){"use strict";var d=c(47),e=RegExp.prototype.exec,f=Object.getOwnPropertyDescriptor,g=function(a){try{var b=a.lastIndex;return a.lastIndex=0,e.call(a),!0}catch(c){return!1}finally{a.lastIndex=b}},h=Object.prototype.toString,i="[object RegExp]",j="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;a.exports=function(a){if(!a||"object"!=typeof a)return!1;if(!j)return h.call(a)===i;var b=f(a,"lastIndex"),c=b&&d(b,"value");return!!c&&g(a)}},function(a,b,c){var d=c(42);a.exports=d.call(Function.call,Object.prototype.hasOwnProperty)},function(a,b,c){"use strict";var d=c(24),e=c(49);a.exports=function(){var a=e();return Array.prototype.includes!==a&&d(Array.prototype,{includes:a}),a}},function(a,b,c){"use strict";var d=c(50);a.exports=function(){return Array.prototype.includes||d}},function(a,b,c){(function(b){"use strict";var d=c(30),e=Number.isNaN||function(a){return a!==a},f=Number.isFinite||function(a){return"number"==typeof a&&b.isFinite(a)},g=Array.prototype.indexOf;a.exports=function(a){var b=arguments.length>1?d.ToInteger(arguments[1]):0;if(g&&!e(a)&&f(b)&&"undefined"!=typeof a)return g.apply(this,arguments)>-1;var c=d.ToObject(this),h=d.ToLength(c.length);if(0===h)return!1;for(var i=b>=0?b:Math.max(0,h+b);h>i;){if(d.SameValueZero(a,c[i]))return!0;i+=1}return!1}}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){addEventListener("message",f,!1)}function f(a){var b=a.message?"message":"data",c={};try{c=JSON.parse(a[b])}catch(d){return}if(c.adId){var e=pbjs._bidsReceived.find(function(a){return a.adId===c.adId});"Prebid Request"===c.message&&(g(e,c.adServerDomain,a.source),j["default"].emit(l,e))}}function g(a,b,c){var d=a.adId,e=a.ad,f=a.adUrl,g=a.width,i=a.height;d&&(h(a),c.postMessage(JSON.stringify({message:"Prebid Response",ad:e,adUrl:f,adId:d,width:g,height:i}),b))}function h(a){var b=a.adUnitCode,c=a.width,d=a.height,e=document.getElementById(window.googletag.pubads().getSlots().find(function(a){return a.getAdUnitPath()===b||a.getSlotElementId()===b}).getSlotElementId()).querySelector("iframe");e.width=""+c,e.height=""+d}Object.defineProperty(b,"__esModule",{value:!0}),b.listenMessagesFromCreative=e;var i=c(8),j=d(i),k=c(3),l=k.EVENTS.BID_WON},function(a,b,c){"use strict";var d=c(11),e=function(a){this.name=a.adserver,this.code=a.code,this.getWinningBidByCode=function(){var a=this,b=pbjs._bidsReceived.find(function(b){return b.adUnitCode===a.code});return b}};b.dfpAdserver=function(a,b){var c=new e(a);c.urlComponents=b;var f={env:"vp",gdfp_req:"1",impl:"s",unviewed_position_start:"1"},g=["output","iu","sz","url","correlator","description_url","hl"],h=function(a){return encodeURIComponent(d.formatQS(a))};return c.appendQueryParams=function(){var a=c.getWinningBidByCode();this.urlComponents.search.description_url=encodeURIComponent(a.descriptionUrl),this.urlComponents.search.cust_params=h(a.adserverTargeting),this.urlComponents.search.correlator=Date.now()},c.verifyAdserverTag=function(){for(var a in f)if(!this.urlComponents.search.hasOwnProperty(a)||this.urlComponents.search[a]!==f[a])return!1;for(var b in g)if(!this.urlComponents.search.hasOwnProperty(g[b]))return!1;return!0},c}},function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(){var a=n.getWinningBids(),b=f();return a=a.map(function(a){return d({},a.adUnitCode,Object.keys(a.adserverTargeting).filter(function(c){return"undefined"==typeof a.sendStandardTargeting||a.sendStandardTargeting||-1===b.indexOf(c)}).map(function(b){return d({},b.substring(0,20),[a.adserverTargeting[b]])}))})}function f(){return k.getStandardBidderAdServerTargeting().map(function(a){return a.key}).concat(m.TARGETING_KEYS).filter(j.uniques)}function g(a){var b=f();return pbjs._bidsReceived.filter(j.adUnitsFilter.bind(this,a)).map(function(a){return a.alwaysUseBid?d({},a.adUnitCode,Object.keys(a.adserverTargeting).map(function(c){return b.indexOf(c)>-1?void 0:d({},c.substring(0,20),[a.adserverTargeting[c]])}).filter(function(a){return a})):void 0}).filter(function(a){return a})}function h(a){var b=m.TARGETING_KEYS;return pbjs._bidsReceived.filter(j.adUnitsFilter.bind(this,a)).map(function(a){return a.adserverTargeting?d({},a.adUnitCode,i(a,b.filter(function(b){return"undefined"!=typeof a.adserverTargeting[b]}))):void 0}).filter(function(a){return a})}function i(a,b){return b.map(function(b){return d({},(b+"_"+a.bidderCode).substring(0,20),[a.adserverTargeting[b]])})}var j=c(2),k=c(13),l=c(2),m=c(3),n=b,o=[];n.resetPresetTargeting=function(){j.isGptPubadsDefined()&&window.googletag.pubads().getSlots().forEach(function(a){o.forEach(function(b){pbjs.adUnits.find(function(c){(c.code===a.getAdUnitPath()||c.code===a.getSlotElementId())&&a.setTargeting(b,null)})})})},n.getAllTargeting=function(a){var b=a&&a.length?[a]:pbjs._adUnitCodes,c=e(b).concat(g(b)).concat(pbjs._sendAllBids?h(b):[]);return c.map(function(a){Object.keys(a).map(function(b){a[b].map(function(a){-1===o.indexOf(Object.keys(a)[0])&&(o=Object.keys(a).concat(o))})})}),c},n.setTargeting=function(a){window.googletag.pubads().getSlots().forEach(function(b){a.filter(function(a){return Object.keys(a)[0]===b.getAdUnitPath()||Object.keys(a)[0]===b.getSlotElementId()}).forEach(function(a){return a[Object.keys(a)[0]].forEach(function(a){a[Object.keys(a)[0]].map(function(c){return l.logMessage("Attempting to set key value for slot: "+b.getSlotElementId()+" key: "+Object.keys(a)[0]+" value: "+c),c}).forEach(function(c){b.setTargeting(Object.keys(a)[0],c)})})})})},n.getWinningBids=function(a){var b=a?[a]:pbjs._adUnitCodes;return pbjs._bidsReceived.filter(function(a){return b.includes(a.adUnitCode)}).filter(function(a){return a.cpm>0}).map(function(a){return a.adUnitCode}).filter(j.uniques).map(function(a){return pbjs._bidsReceived.filter(function(b){return b.adUnitCode===a?b:null}).reduce(j.getHighestCpm,{adUnitCode:a,cpm:0,adserverTargeting:{},timeToRespond:0})})},n.setTargetingForAst=function(){var a=pbjs.getAdserverTargeting();Object.keys(a).forEach(function(b){return Object.keys(a[b]).forEach(function(c){if(l.logMessage("Attempting to set targeting for targetId: "+b+" key: "+c+" value: "+a[b][c]),l.isStr(a[b][c])||l.isArray(a[b][c])){var d={},e="hb_adid"===c?c.toUpperCase():c;d[e]=a[b][c],window.apntag.setKeywords(b,d)}})})},n.isApntagDefined=function(){return!(!window.apntag||!l.isFn(window.apntag.setKeywords))||void 0}}]);var runSlots=runSlots||{},googletag=googletag||{};googletag.cmd=googletag.cmd||[],function(){return"object"==typeof runSlots.config&&"object"==typeof runSlots.config.partners}()&&function(){function a(){if("function"==typeof Imgur&&"object"==typeof Imgur.Util&&"function"==typeof Imgur.Util.jafoLog){for(s=!0,clearInterval(o);u.length>0;)runSlots.logImpression.apply(this,u.shift())}}function b(a,b){if(n&&m&&"string"==typeof a&&"function"==typeof console[a]){var c=[].slice.call(b);c.unshift(l),console[a].apply(console,c)}}function c(){return b("log",arguments)}function d(){return b("info",arguments)}function e(){return b("warn",arguments)}function f(a){return a&&a.adConfig&&a.adConfig.showsAds}var g,h=(new Date).getTime(),i=0,j={},k={},l="[RUNSLOTS]",m="object"==typeof console&&"function"==typeof console.log,n=/(\?|\&)pbjs_debug\=(true|1|on)(\&|$)/.test(document.location.search);n||(n=/(^|\s+)runSlots_debug=(true|1|on)[;:]/i.test(document.cookie));var o,p="undefined"==typeof window.ADBLOCKED||window.ADBLOCKED!==!1,q="pbjs_bidders",r=new RegExp(q+"\\=([^&]+)?"),s=!1,t=150,u=[],v="data-partner",w=[],x=!1,y=[],z=1500,A=!1,B=Imgur.Environment.auth.isLoggedIn,C=.1,D=Imgur.Util.getAnalyticsCdnUrl()+"/reporting.gif?",E=[];runSlots.adRefresh=!0;var F,G=0,H=15,I=Math.random()<.05;runSlots.currentAdInfo={},o=setInterval(a,t),runSlots.applyTargetingToActiveSlots=function(a,b){"string"==typeof a&&a.length>0&&(b?googletag.cmd.push(function(){googletag.pubads().setTargeting(a,b),d('Set targeting for "'+a+'"',b)}):googletag.cmd.push(function(){googletag.pubads().clearTargeting(a),d('Cleared targeting for "'+a+'"')}))},runSlots.createSlotHtml=function(){runSlots.config.active_slots.forEach(function(a){var b=document.getElementById(a.element);if(!b){b=document.createElement("div"),b.setAttribute("id",a.element);var d=$(a.insertSelector);d[a.insertMethod].call(d,b)}$(b).addClass("advertisement div-gpt-ad-active-"+a.name),c("Creating element #"+a.element+" in the DOM for slot "+a.name+".")})},runSlots.defineSlots=function(){googletag.cmd.push(function(){runSlots.config.active_slots.forEach(function(a){j[a.name]=googletag.defineSlot(a.slot_id,a.sizes,a.element),j[a.name].addService(googletag.pubads()),j[a.name].i_name=a.name,k[a.name]={slotID:a.element,slotName:a.slot_id,sizes:a.sizes}}),runSlots.applyTargetingToActiveSlots("adblock",window.usesABP?"true":"false"),runSlots.applyTargetingToActiveSlots("login",B?"true":"false"),runSlots.applyTargetingToActiveSlots("SSL",("https:"===location.protocol)+"")})},runSlots.display=function(a){googletag.cmd.push(function(){if(googletag.display(a),!i){i=(new Date).getTime();var b=parseInt(i-h,10);d("Displayed first impressions in "+b/1e3+" seconds")}})},runSlots.display_slots=function(a){googletag.cmd.push(function(){googletag.pubads().enableSingleRequest(),googletag.pubads().set("page_url",window.location.href),googletag.pubads().addEventListener("slotRenderEnded",runSlots.handleSlotRender),googletag.pubads().addEventListener("impressionViewable",runSlots.slotBecameViewable),googletag.enableServices();for(var a in j)j[a]&&runSlots.display(j[a].getSlotElementId());runSlots.pbjsRequestBids(function(){pbjs.setTargetingForGPTAsync(),runSlots.rotate()})})},runSlots.slotBecameViewable=function(a){E.push(a.slot.i_name),I&&F.emit("impressionViewable",{slotName:a.slot.i_name}),I&&Imgur.Util.firePixel(D+"event=impressionViewable&slotName="+a.slot.i_name)},runSlots.galleryNav=function(a){try{document.getElementById("div-gpt-ad-spotlight").contentWindow.googletag.pubads().refresh()}catch(b){}return d("Navigation to new item / rotation.",a),runSlots.item=a,f(runSlots.item)?($(".advertisement, .advertisement .panel-ad").removeClass("nodisplay"),void runSlots.renderGalleryNav()):($(".advertisement:not(#under-sidebar-parent),.advertisement:not(#under-sidebar-parent) .panel-ad").addClass("nodisplay"),runSlots.clearAdRefreshTimeout(),void c("Nothing to show on navigation (NSFW or PP?)"))},runSlots.renderGalleryNav=_.debounce(function(){if(f(runSlots.item)){if(!A)return void runSlots.init();runSlots.setTargeting(),runSlots.pbjsRequestBids(function(){pbjs.setTargetingForGPTAsync(),runSlots.rotate()})}},z,{leading:!0}),runSlots.getBidderList=function(a){var b,c=document.location.search.match(r),f=[];if(!rawUtils.is_obj(a,!0))return void e("Getting bidders failed for empty slot config.",a);if(rawUtils.is_array(c,2)){if("string"!=typeof c[1])return[];b=c[1].split(",")}if(rawUtils.is_array(b,!0))for(var g=0;g<b.length;g++){var h=b[g];rawUtils.is_obj(a[h],!0)&&rawUtils.is_obj(a[h].config,!0)?(f.push(a[h].config),d("Added debug bidder "+h+".",a[h])):e("Desired bidder "+h+" does not have a valid slot config.",a)}else for(var g in a)rawUtils.is_obj(a[g])&&rawUtils.is_obj(a[g].config,!0)?a[g].prod?(f.push(a[g].config),d("Added prod bidder "+g+".",a[g])):d("Bidder "+g+" is not marked for production.",a[g]):e("Prod bidder "+g+" does not have a valid slot config.",a);return f.length>0?f:void 0},runSlots.handlePartner=function(a){var b;try{b=a.path[0].getAttribute(v)}catch(e){b="unknown"}w.push(b),c("Partner "+b+" loaded."),y.length===w.length&&(x=!0,runSlots.handleAllPartnersLoaded(),d("All on-page partners are loaded.",{waiting:y,loaded:w}))},runSlots.handleAllPartnersLoaded=function(){googletag.cmd.push(function(){googletag.pubads().disableInitialLoad(),runSlots.defineSlots(),runSlots.setTargeting(),pbjs.que.push(function(){runSlots.pbjsApplyAllBidderSettings(),runSlots.pbjs_add_units()}),runSlots.display_slots()})},runSlots.clearAdRefreshTimeout=function(){window.clearTimeout(runSlots._adRefreshTimeout),runSlots._adRefreshTimeout=null},runSlots.handleSlotRender=function(a){if("object"==typeof a){runSlots.logImpression(a.slot.getAdUnitPath(),a.size,a.slot.i_name);var b;for(key in a.slot)a.slot.hasOwnProperty(key)&&a.slot[key]&&a.slot[key].hb_bidder&&(b=a.slot[key]);if(!(b&&b.hb_adid[0]&&b.hb_bidder[0]&&b.hb_pb[0]&&b.oxb[0]))return;runSlots.currentAdInfo[a.slot.i_name]={adid:b.hb_adid[0],bidder:b.hb_bidder[0],cpm:b.hb_pb[0],oxb:b.oxb[0],qqid:a.slot.getEscapedQemQueryId()}}},runSlots.init=function(){return c("Attempting init."),f(runSlots.item)?(runSlots.filterIntendedSlots(),p?(A=!0,window.usesABP&&runSlots.initSpotlight(),void e("Adblocker detected. Aborting runSlots.init().")):(runSlots.initSpotlight(),runSlots.loadAllPartners(),runSlots.createSlotHtml(),E=runSlots.config.active_slots.map(function(a){return a.name}),googletag.cmd.push(function(){googletag.pubads().collapseEmptyDivs()}),A=!0,void(I&&(F=io(Imgur.Environment.socketUrl,{transports:["websocket"],upgrade:!1,reconnection:!1}))))):void d("Deferred init")},runSlots.filterIntendedSlots=function(){runSlots.config.active_slots=runSlots.config.active_slots.filter(function(a){return("top_banner"!=a.name||!B)&&(!("spotlight"!=a.name||!window.usesABP)||!("spotlight"==a.name&&!B))})},runSlots.initSpotlight=function(){if(B||window.usesABP){var a="";if(window.usesABP&&!B){var b=Math.random();b<.1&&(a="?amazon_first=true")}var c=document.createElement("iframe");c.setAttribute("id","div-gpt-ad-spotlight"),c.setAttribute("class","advertisement"),c.setAttribute("src","/spotlight-iframe"+a),f(runSlots.item)||c.setAttribute("class","nodisplay"),$("#inside .post-container").before(c)}},runSlots.loadAllPartners=function(){clearTimeout(pbjs.partner_load_timeout);for(var a in runSlots.config.partners)runSlots.config.partners.hasOwnProperty(a)&&runSlots.loadPartner(a)},runSlots.loadPartner=function(a){var b=rawUtils.dive(runSlots,"config.partners."+a+".src");if(b&&"string"==typeof b&&0!=b.length){y.push(a);var c=document.createElement("script"),d=document.getElementsByTagName("script")[0];c.setAttribute(v,a),c.type="text/javascript",c.src=b,"gpt"===a?googletag.cmd.push(function(){runSlots.handlePartner({path:[c]})}):(c.addEventListener("load",runSlots.handlePartner),c.addEventListener("error",runSlots.handlePartner)),d.parentNode.insertBefore(c,d)}},runSlots.logImpression=function(a,b,c){if(!s)return void u.push([a,b]);if(g){var e=parseFloat(((new Date).getTime()-g)/1e3);d("Logging impression for "+c+" "+e+" seconds after all rotation began.")}Imgur.Util.jafoLog({event:"adImpression",meta:{ad_keywords:runSlots.item.adConfig.keywords,ad_size:b,internal_name:c}}),d("Logged delivered impression",arguments)},runSlots.pbjs_add_units=function(){var a=[];runSlots.config.active_slots.forEach(function(b){if(b.prebid&&E.indexOf(b.name)!==-1){var c=runSlots.getBidderList(b.prebid);a.push({code:b.element,sizes:b.sizes,bids:c})}}),pbjs.addAdUnits(a)},runSlots.pbjsApplyAllBidderSettings=function(){for(vendor in runSlots.config.bidder_adjustments)runSlots.config.bidder_adjustments.hasOwnProperty(vendor)&&!isNaN(runSlots.config.bidder_adjustments[vendor])&&runSlots.pbjsApplyBidderSettingsFor(vendor,runSlots.config.bidder_adjustments[vendor]);"object"!=typeof pbjs.bidderSettings.standard&&(pbjs.bidderSettings.standard={}),pbjs.bidderSettings.standard.adserverTargeting=[{key:"hb_bidder",val:function(a){return a.bidder}},{key:"hb_adid",val:function(a){return a.adId}},{key:"hb_pb",val:function(a){return a.pbHg}}]},runSlots.pbjsApplyBidderSettingsFor=function(a,b){"object"!=typeof pbjs.bidderSettings&&(pbjs.bidderSettings={}),"object"!=typeof pbjs.bidderSettings[a]&&(pbjs.bidderSettings[a]={}),pbjs.bidderSettings[a].bidCpmAdjustment=function(c){var e=c*b;return c<C?(d("Adjusted "+a+" from "+c+" to 0 (bid was below floor of "+C+")"),0):(d("Adjusted "+a+" bid by "+b+" (from "+c+" to "+e+")"),e)}},runSlots.pbjsRequestBids=function(a,b){pbjs.requestBids({timeout:b||PREBID_TIMEOUT,bidsBackHandler:function(b){"function"==typeof a&&a();for(var c in b)if(b.hasOwnProperty(c)){var d={};b[c].bids.forEach(function(a){(!d||a.cpm>d.cpm)&&(d=a)}),I&&F.emit("topBid",{slotElement:c,cpm:d.cpm,bidder:d.bidder}),I&&Imgur.Util.firePixel(D+"event=topBid&slotElement="+c+"&cpm="+d.cpm+"&bidder="+d.bidder)}}})},runSlots.rotate=function(){g=(new Date).getTime(),d("Rotating units."),googletag.cmd.push(function(){runSlots.clearAdRefreshTimeout(),runSlots.applyTargetingToActiveSlots("refresh_count",G.toString()),G++,googletag.pubads().set("page_url",location.href);var a=rawUtils.get_values(j);runSlots._shouldTimedRefresh&&(a=runSlots.filterViewedSlots(a),a=a.filter(function(a){return"spotlight"!=a.i_name}),runSlots._shouldTimedRefresh=!1),runSlots.fetchA9Bids(a,function(){googletag.pubads().refresh(a),E=[],runSlots.adRefresh&&(runSlots._adRefreshTimeout=window.setTimeout(runSlots.timedRefreshSlots,1e3*H))})})},runSlots.timedRefreshSlots=function(){if(runSlots.adRefresh){if(0==E.length)return void(runSlots._adRefreshTimeout=window.setTimeout(runSlots.timedRefreshSlots,1e3*H));d("Bidding invoked by timer."),runSlots._shouldTimedRefresh=!0,runSlots.pbjsRequestBids(function(){pbjs.setTargetingForGPTAsync(),runSlots.rotate()})}},runSlots.filterViewedSlots=function(a){return a.filter(function(a){return E.indexOf(a.i_name)!=-1})},runSlots.fetchA9Bids=function(a,b){pbjs.setTargetingForGPTAsync();try{if(window.apstag){var d=[];a.forEach(function(a){a.i_name in k&&d.push(k[a.i_name])}),window.apstag.fetchBids({slots:d,timeout:2e3},function(a){c("Fetched A9 for slots",d,a),apstag.setDisplayBids(),b()})}else b()}catch(e){}},runSlots.setTargeting=function(){var a=runSlots.item.adConfig.safeFlags,b=a.indexOf("gallery")>-1?"gallery":"nongallery",c=null;c="gallery"==b?a.indexOf("onsfw_mod_safe")>-1?"g_u10_onsfw":a.indexOf("sixth_mod_safe")>-1?"g_6th":"g_o10":a.indexOf("sixth_mod_safe")>-1?"ng_6th":a.indexOf("onsfw_mod_safe")>-1?"ng_onsfw":"ng_unknown",runSlots.applyTargetingToActiveSlots("url",location.href),runSlots.applyTargetingToActiveSlots("page",b),runSlots.applyTargetingToActiveSlots("safe_reason",c),runSlots.item.galleryTags&&runSlots.item.galleryTags.forEach(function(a,b){runSlots.applyTargetingToActiveSlots("item_tag_"+b,rawUtils.dive(a,"tag"))})},runSlots.blocked=function(){return p},runSlots.init()}();
//# sourceMappingURL=runSlots.js.map